"use strict";var An=Object.create;var ye=Object.defineProperty;var Rn=Object.getOwnPropertyDescriptor;var Fn=Object.getOwnPropertyNames;var Nn=Object.getPrototypeOf,Ln=Object.prototype.hasOwnProperty;var u=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports),Hn=(s,e)=>{for(var t in e)ye(s,t,{get:e[t],enumerable:!0})},Kt=(s,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Fn(e))!Ln.call(s,r)&&r!==t&&ye(s,r,{get:()=>e[r],enumerable:!(i=Rn(e,r))||i.enumerable});return s};var G=(s,e,t)=>(t=s!=null?An(Nn(s)):{},Kt(e||!s||!s.__esModule?ye(t,"default",{value:s,enumerable:!0}):t,s)),Yn=s=>Kt(ye({},"__esModule",{value:!0}),s);var v=u((Xl,Qt)=>{"use strict";var{FORCE_COLOR:Vn,NODE_DISABLE_COLORS:Un,TERM:Jn}=process.env,g={enabled:!Un&&Jn!=="dumb"&&Vn!=="0",reset:m(0,0),bold:m(1,22),dim:m(2,22),italic:m(3,23),underline:m(4,24),inverse:m(7,27),hidden:m(8,28),strikethrough:m(9,29),black:m(30,39),red:m(31,39),green:m(32,39),yellow:m(33,39),blue:m(34,39),magenta:m(35,39),cyan:m(36,39),white:m(37,39),gray:m(90,39),grey:m(90,39),bgBlack:m(40,49),bgRed:m(41,49),bgGreen:m(42,49),bgYellow:m(43,49),bgBlue:m(44,49),bgMagenta:m(45,49),bgCyan:m(46,49),bgWhite:m(47,49)};function Xt(s,e){let t=0,i,r="",n="";for(;t<s.length;t++)i=s[t],r+=i.open,n+=i.close,e.includes(i.close)&&(e=e.replace(i.rgx,i.close+i.open));return r+e+n}function Bn(s,e){let t={has:s,keys:e};return t.reset=g.reset.bind(t),t.bold=g.bold.bind(t),t.dim=g.dim.bind(t),t.italic=g.italic.bind(t),t.underline=g.underline.bind(t),t.inverse=g.inverse.bind(t),t.hidden=g.hidden.bind(t),t.strikethrough=g.strikethrough.bind(t),t.black=g.black.bind(t),t.red=g.red.bind(t),t.green=g.green.bind(t),t.yellow=g.yellow.bind(t),t.blue=g.blue.bind(t),t.magenta=g.magenta.bind(t),t.cyan=g.cyan.bind(t),t.white=g.white.bind(t),t.gray=g.gray.bind(t),t.grey=g.grey.bind(t),t.bgBlack=g.bgBlack.bind(t),t.bgRed=g.bgRed.bind(t),t.bgGreen=g.bgGreen.bind(t),t.bgYellow=g.bgYellow.bind(t),t.bgBlue=g.bgBlue.bind(t),t.bgMagenta=g.bgMagenta.bind(t),t.bgCyan=g.bgCyan.bind(t),t.bgWhite=g.bgWhite.bind(t),t}function m(s,e){let t={open:`\x1B[${s}m`,close:`\x1B[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(i){return this!==void 0&&this.has!==void 0?(this.has.includes(s)||(this.has.push(s),this.keys.push(t)),i===void 0?this:g.enabled?Xt(this.keys,i+""):i+""):i===void 0?Bn([s],[t]):g.enabled?Xt([t],i+""):i+""}}Qt.exports=g});var ts=u((Ql,es)=>{"use strict";es.exports=(s,e)=>{if(!(s.meta&&s.name!=="escape")){if(s.ctrl){if(s.name==="a")return"first";if(s.name==="c"||s.name==="d")return"abort";if(s.name==="e")return"last";if(s.name==="g")return"reset"}if(e){if(s.name==="j")return"down";if(s.name==="k")return"up"}return s.name==="return"||s.name==="enter"?"submit":s.name==="backspace"?"delete":s.name==="delete"?"deleteForward":s.name==="abort"?"abort":s.name==="escape"?"exit":s.name==="tab"?"next":s.name==="pagedown"?"nextPage":s.name==="pageup"?"prevPage":s.name==="home"?"home":s.name==="end"?"end":s.name==="up"?"up":s.name==="down"?"down":s.name==="right"?"right":s.name==="left"?"left":!1}}});var xe=u((eu,ss)=>{"use strict";ss.exports=s=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),t=new RegExp(e,"g");return typeof s=="string"?s.replace(t,""):s}});var y=u((tu,is)=>{"use strict";var Fe="\x1B",b=`${Fe}[`,Gn="\x07",Ne={to(s,e){return e?`${b}${e+1};${s+1}H`:`${b}${s+1}G`},move(s,e){let t="";return s<0?t+=`${b}${-s}D`:s>0&&(t+=`${b}${s}C`),e<0?t+=`${b}${-e}A`:e>0&&(t+=`${b}${e}B`),t},up:(s=1)=>`${b}${s}A`,down:(s=1)=>`${b}${s}B`,forward:(s=1)=>`${b}${s}C`,backward:(s=1)=>`${b}${s}D`,nextLine:(s=1)=>`${b}E`.repeat(s),prevLine:(s=1)=>`${b}F`.repeat(s),left:`${b}G`,hide:`${b}?25l`,show:`${b}?25h`,save:`${Fe}7`,restore:`${Fe}8`},zn={up:(s=1)=>`${b}S`.repeat(s),down:(s=1)=>`${b}T`.repeat(s)},Zn={screen:`${b}2J`,up:(s=1)=>`${b}1J`.repeat(s),down:(s=1)=>`${b}J`.repeat(s),line:`${b}2K`,lineEnd:`${b}K`,lineStart:`${b}1K`,lines(s){let e="";for(let t=0;t<s;t++)e+=this.line+(t<s-1?Ne.up():"");return s&&(e+=Ne.left),e}};is.exports={cursor:Ne,scroll:zn,erase:Zn,beep:Gn}});var ls=u((su,hs)=>{"use strict";function Wn(s,e){var t=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!t){if(Array.isArray(s)||(t=Kn(s))||e&&s&&typeof s.length=="number"){t&&(s=t);var i=0,r=function(){};return{s:r,n:function(){return i>=s.length?{done:!0}:{done:!1,value:s[i++]}},e:function(a){throw a},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=!0,o=!1,h;return{s:function(){t=t.call(s)},n:function(){var a=t.next();return n=a.done,a},e:function(a){o=!0,h=a},f:function(){try{!n&&t.return!=null&&t.return()}finally{if(o)throw h}}}}function Kn(s,e){if(s){if(typeof s=="string")return rs(s,e);var t=Object.prototype.toString.call(s).slice(8,-1);if(t==="Object"&&s.constructor&&(t=s.constructor.name),t==="Map"||t==="Set")return Array.from(s);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rs(s,e)}}function rs(s,e){(e==null||e>s.length)&&(e=s.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=s[t];return i}var Xn=xe(),os=y(),ns=os.erase,Qn=os.cursor,eo=s=>[...Xn(s)].length;hs.exports=function(s,e){if(!e)return ns.line+Qn.to(0);let t=0,i=s.split(/\r?\n/);var r=Wn(i),n;try{for(r.s();!(n=r.n()).done;){let o=n.value;t+=1+Math.floor(Math.max(eo(o)-1,0)/e)}}catch(o){r.e(o)}finally{r.f()}return ns.lines(t)}});var Le=u((iu,us)=>{"use strict";var he={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},to={arrowUp:he.arrowUp,arrowDown:he.arrowDown,arrowLeft:he.arrowLeft,arrowRight:he.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},so=process.platform==="win32"?to:he;us.exports=so});var cs=u((ru,as)=>{"use strict";var se=v(),ee=Le(),He=Object.freeze({password:{scale:1,render:s=>"*".repeat(s.length)},emoji:{scale:2,render:s=>"\u{1F603}".repeat(s.length)},invisible:{scale:0,render:s=>""},default:{scale:1,render:s=>`${s}`}}),io=s=>He[s]||He.default,le=Object.freeze({aborted:se.red(ee.cross),done:se.green(ee.tick),exited:se.yellow(ee.cross),default:se.cyan("?")}),ro=(s,e,t)=>e?le.aborted:t?le.exited:s?le.done:le.default,no=s=>se.gray(s?ee.ellipsis:ee.pointerSmall),oo=(s,e)=>se.gray(s?e?ee.pointerSmall:"+":ee.line);as.exports={styles:He,render:io,symbols:le,symbol:ro,delimiter:no,item:oo}});var fs=u((nu,ds)=>{"use strict";var ho=xe();ds.exports=function(s,e){let t=String(ho(s)||"").split(/\r?\n/);return e?t.map(i=>Math.ceil(i.length/e)).reduce((i,r)=>i+r):t.length}});var gs=u((ou,ps)=>{"use strict";ps.exports=(s,e={})=>{let t=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",i=e.width;return(s||"").split(/\r?\n/g).map(r=>r.split(/\s+/g).reduce((n,o)=>(o.length+t.length>=i||n[n.length-1].length+o.length+1<i?n[n.length-1]+=` ${o}`:n.push(`${t}${o}`),n),[t]).join(`
`)).join(`
`)}});var vs=u((hu,ms)=>{"use strict";ms.exports=(s,e,t)=>{t=t||e;let i=Math.min(e-t,s-Math.floor(t/2));i<0&&(i=0);let r=Math.min(i+t,e);return{startIndex:i,endIndex:r}}});var D=u((lu,bs)=>{"use strict";bs.exports={action:ts(),clear:ls(),style:cs(),strip:xe(),figures:Le(),lines:fs(),wrap:gs(),entriesToDisplay:vs()}});var L=u((uu,xs)=>{"use strict";var ys=require("readline"),lo=D(),uo=lo.action,ao=require("events"),ws=y(),co=ws.beep,fo=ws.cursor,po=v(),Ye=class extends ao{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let t=ys.createInterface({input:this.in,escapeCodeTimeout:50});ys.emitKeypressEvents(this.in,t),this.in.isTTY&&this.in.setRawMode(!0);let i=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,r=(n,o)=>{let h=uo(o,i);h===!1?this._&&this._(n,o):typeof this[h]=="function"?this[h](o):this.bell()};this.close=()=>{this.out.write(fo.show),this.in.removeListener("keypress",r),this.in.isTTY&&this.in.setRawMode(!1),t.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",r)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(co)}render(){this.onRender(po),this.firstRender&&(this.firstRender=!1)}};xs.exports=Ye});var $s=u((au,Ts)=>{"use strict";function Ss(s,e,t,i,r,n,o){try{var h=s[n](o),l=h.value}catch(a){t(a);return}h.done?e(l):Promise.resolve(l).then(i,r)}function qs(s){return function(){var e=this,t=arguments;return new Promise(function(i,r){var n=s.apply(e,t);function o(l){Ss(n,i,r,o,h,"next",l)}function h(l){Ss(n,i,r,o,h,"throw",l)}o(void 0)})}}var Se=v(),go=L(),Os=y(),mo=Os.erase,ue=Os.cursor,qe=D(),Ve=qe.style,Ue=qe.clear,vo=qe.lines,bo=qe.figures,Je=class extends go{constructor(e={}){super(e),this.transform=Ve.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=Ue("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=Se.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return qs(function*(){let t=yield e.validator(e.value);typeof t=="string"&&(e.errorMsg=t,t=!1),e.error=!t})()}submit(){var e=this;return qs(function*(){if(e.value=e.value||e.initial,e.cursorOffset=0,e.cursor=e.rendered.length,yield e.validate(),e.error){e.red=!0,e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,t){let i=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor);this.value=`${i}${e}${r}`,this.red=!1,this.cursor=this.placeholder?0:i.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),t=this.value.slice(this.cursor);this.value=`${e}${t}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),t=this.value.slice(this.cursor+1);this.value=`${e}${t}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(ue.down(vo(this.outputError,this.out.columns)-1)+Ue(this.outputError,this.out.columns)),this.out.write(Ue(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Ve.symbol(this.done,this.aborted),Se.bold(this.msg),Ve.delimiter(this.done),this.red?Se.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,t,i)=>e+`
${i?" ":bo.pointerSmall} ${Se.red().italic(t)}`,"")),this.out.write(mo.line+ue.to(0)+this.outputText+ue.save+this.outputError+ue.restore+ue.move(this.cursorOffset,0)))}};Ts.exports=Je});var Ds=u((cu,_s)=>{"use strict";var H=v(),yo=L(),ae=D(),Ms=ae.style,Ps=ae.clear,Oe=ae.figures,wo=ae.wrap,xo=ae.entriesToDisplay,So=y(),qo=So.cursor,Be=class extends yo{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((t,i)=>(typeof t=="string"&&(t={title:t,value:i}),{title:t&&(t.title||t.value||t),value:t&&(t.value===void 0?i:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=Ps("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,t){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(qo.hide):this.out.write(Ps(this.outputText,this.out.columns)),super.render();let e=xo(this.cursor,this.choices.length,this.optionsPerPage),t=e.startIndex,i=e.endIndex;if(this.outputText=[Ms.symbol(this.done,this.aborted),H.bold(this.msg),Ms.delimiter(!1),this.done?this.selection.title:this.selection.disabled?H.yellow(this.warn):H.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let r=t;r<i;r++){let n,o,h="",l=this.choices[r];r===t&&t>0?o=Oe.arrowUp:r===i-1&&i<this.choices.length?o=Oe.arrowDown:o=" ",l.disabled?(n=this.cursor===r?H.gray().underline(l.title):H.strikethrough().gray(l.title),o=(this.cursor===r?H.bold().gray(Oe.pointer)+" ":"  ")+o):(n=this.cursor===r?H.cyan().underline(l.title):l.title,o=(this.cursor===r?H.cyan(Oe.pointer)+" ":"  ")+o,l.description&&this.cursor===r&&(h=` - ${l.description}`,(o.length+n.length+h.length>=this.out.columns||l.description.split(/\r?\n/).length>1)&&(h=`
`+wo(l.description,{margin:3,width:this.out.columns})))),this.outputText+=`${o} ${n}${H.gray(h)}
`}}this.out.write(this.outputText)}};_s.exports=Be});var As=u((du,Es)=>{"use strict";var Te=v(),Oo=L(),js=D(),Is=js.style,To=js.clear,ks=y(),Cs=ks.cursor,$o=ks.erase,Ge=class extends Oo{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,t){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(Cs.hide):this.out.write(To(this.outputText,this.out.columns)),super.render(),this.outputText=[Is.symbol(this.done,this.aborted),Te.bold(this.msg),Is.delimiter(this.done),this.value?this.inactive:Te.cyan().underline(this.inactive),Te.gray("/"),this.value?Te.cyan().underline(this.active):this.active].join(" "),this.out.write($o.line+Cs.to(0)+this.outputText))}};Es.exports=Ge});var k=u((fu,Rs)=>{"use strict";var ze=class s{constructor({token:e,date:t,parts:i,locales:r}){this.token=e,this.date=t||new Date,this.parts=i||[this],this.locales=r||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((t,i)=>i>e&&t instanceof s)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),t=e.indexOf(this);return e.find((i,r)=>r>t&&i instanceof s)}toString(){return String(this.date)}};Rs.exports=ze});var Ns=u((pu,Fs)=>{"use strict";var Mo=k(),Ze=class extends Mo{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};Fs.exports=Ze});var Hs=u((gu,Ls)=>{"use strict";var Po=k(),_o=s=>(s=s%10,s===1?"st":s===2?"nd":s===3?"rd":"th"),We=class extends Po{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),t=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+_o(e):this.token==="d"?t+1:this.token==="ddd"?this.locales.weekdaysShort[t]:this.token==="dddd"?this.locales.weekdays[t]:e}};Ls.exports=We});var Vs=u((mu,Ys)=>{"use strict";var Do=k(),Ke=class extends Do{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};Ys.exports=Ke});var Js=u((vu,Us)=>{"use strict";var Io=k(),Xe=class extends Io{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};Us.exports=Xe});var Gs=u((bu,Bs)=>{"use strict";var Co=k(),Qe=class extends Co{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};Bs.exports=Qe});var Zs=u((yu,zs)=>{"use strict";var jo=k(),et=class extends jo{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),t=this.token.length;return t===2?String(e+1).padStart(2,"0"):t===3?this.locales.monthsShort[e]:t===4?this.locales.months[e]:String(e+1)}};zs.exports=et});var Ks=u((wu,Ws)=>{"use strict";var ko=k(),tt=class extends ko{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};Ws.exports=tt});var Qs=u((xu,Xs)=>{"use strict";var Eo=k(),st=class extends Eo{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};Xs.exports=st});var ti=u((Su,ei)=>{"use strict";ei.exports={DatePart:k(),Meridiem:Ns(),Day:Hs(),Hours:Vs(),Milliseconds:Js(),Minutes:Gs(),Month:Zs(),Seconds:Ks(),Year:Qs()}});var ci=u((qu,ai)=>{"use strict";function si(s,e,t,i,r,n,o){try{var h=s[n](o),l=h.value}catch(a){t(a);return}h.done?e(l):Promise.resolve(l).then(i,r)}function ii(s){return function(){var e=this,t=arguments;return new Promise(function(i,r){var n=s.apply(e,t);function o(l){si(n,i,r,o,h,"next",l)}function h(l){si(n,i,r,o,h,"throw",l)}o(void 0)})}}var it=v(),Ao=L(),nt=D(),ri=nt.style,ni=nt.clear,Ro=nt.figures,ui=y(),Fo=ui.erase,oi=ui.cursor,Y=ti(),hi=Y.DatePart,No=Y.Meridiem,Lo=Y.Day,Ho=Y.Hours,Yo=Y.Milliseconds,Vo=Y.Minutes,Uo=Y.Month,Jo=Y.Seconds,Bo=Y.Year,Go=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,li={1:({token:s})=>s.replace(/\\(.)/g,"$1"),2:s=>new Lo(s),3:s=>new Uo(s),4:s=>new Bo(s),5:s=>new No(s),6:s=>new Ho(s),7:s=>new Vo(s),8:s=>new Jo(s),9:s=>new Yo(s)},zo={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},rt=class extends Ao{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(zo,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=ni("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let t;for(this.parts=[];t=Go.exec(e);){let r=t.shift(),n=t.findIndex(o=>o!=null);this.parts.push(n in li?li[n]({token:t[n]||r,date:this.date,parts:this.parts,locales:this.locales}):t[n]||r)}let i=this.parts.reduce((r,n)=>(typeof n=="string"&&typeof r[r.length-1]=="string"?r[r.length-1]+=n:r.push(n),r),[]);this.parts.splice(0),this.parts.push(...i),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof hi)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return ii(function*(){let t=yield e.validator(e.value);typeof t=="string"&&(e.errorMsg=t,t=!1),e.error=!t})()}submit(){var e=this;return ii(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(t=>t instanceof hi)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(oi.hide):this.out.write(ni(this.outputText,this.out.columns)),super.render(),this.outputText=[ri.symbol(this.done,this.aborted),it.bold(this.msg),ri.delimiter(!1),this.parts.reduce((e,t,i)=>e.concat(i===this.cursor&&!this.done?it.cyan().underline(t.toString()):t),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,t,i)=>e+`
${i?" ":Ro.pointerSmall} ${it.red().italic(t)}`,"")),this.out.write(Fo.line+oi.to(0)+this.outputText))}};ai.exports=rt});var bi=u((Ou,vi)=>{"use strict";function di(s,e,t,i,r,n,o){try{var h=s[n](o),l=h.value}catch(a){t(a);return}h.done?e(l):Promise.resolve(l).then(i,r)}function fi(s){return function(){var e=this,t=arguments;return new Promise(function(i,r){var n=s.apply(e,t);function o(l){di(n,i,r,o,h,"next",l)}function h(l){di(n,i,r,o,h,"throw",l)}o(void 0)})}}var $e=v(),Zo=L(),mi=y(),Me=mi.cursor,Wo=mi.erase,Pe=D(),ot=Pe.style,Ko=Pe.figures,pi=Pe.clear,Xo=Pe.lines,Qo=/[0-9]/,ht=s=>s!==void 0,gi=(s,e)=>{let t=Math.pow(10,e);return Math.round(s*t)/t},lt=class extends Zo{constructor(e={}){super(e),this.transform=ot.render(e.style),this.msg=e.message,this.initial=ht(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=ht(e.min)?e.min:-1/0,this.max=ht(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=$e.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${gi(e,this.round)}`),this._value=gi(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||Qo.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return fi(function*(){let t=yield e.validator(e.value);typeof t=="string"&&(e.errorMsg=t,t=!1),e.error=!t})()}submit(){var e=this;return fi(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}let t=e.value;e.value=t!==""?t:e.initial,e.done=!0,e.aborted=!1,e.error=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,t){if(!this.valid(e))return this.bell();let i=Date.now();if(i-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=i,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Me.down(Xo(this.outputError,this.out.columns)-1)+pi(this.outputError,this.out.columns)),this.out.write(pi(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[ot.symbol(this.done,this.aborted),$e.bold(this.msg),ot.delimiter(this.done),!this.done||!this.done&&!this.placeholder?$e[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,t,i)=>e+`
${i?" ":Ko.pointerSmall} ${$e.red().italic(t)}`,"")),this.out.write(Wo.line+Me.to(0)+this.outputText+Me.save+this.outputError+Me.restore))}};vi.exports=lt});var at=u((Tu,xi)=>{"use strict";var E=v(),eh=y(),th=eh.cursor,sh=L(),ce=D(),yi=ce.clear,z=ce.figures,wi=ce.style,ih=ce.wrap,rh=ce.entriesToDisplay,ut=class extends sh{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((t,i)=>(typeof t=="string"&&(t={title:t,value:i}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(t.value===void 0?i:t.value),selected:t&&t.selected,disabled:t&&t.disabled})),this.clear=yi("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(t=>t.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(t=>!t.disabled).forEach(t=>t.selected=e),this.render()}_(e,t){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${z.arrowUp}/${z.arrowDown}: Highlight option
    ${z.arrowLeft}/${z.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,t,i,r){let n=(t.selected?E.green(z.radioOn):z.radioOff)+" "+r+" ",o,h;return t.disabled?o=e===i?E.gray().underline(t.title):E.strikethrough().gray(t.title):(o=e===i?E.cyan().underline(t.title):t.title,e===i&&t.description&&(h=` - ${t.description}`,(n.length+o.length+h.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(h=`
`+ih(t.description,{margin:n.length,width:this.out.columns})))),n+o+E.gray(h||"")}paginateOptions(e){if(e.length===0)return E.red("No matches for this query.");let t=rh(this.cursor,e.length,this.optionsPerPage),i=t.startIndex,r=t.endIndex,n,o=[];for(let h=i;h<r;h++)h===i&&i>0?n=z.arrowUp:h===r-1&&r<e.length?n=z.arrowDown:n=" ",o.push(this.renderOption(this.cursor,e[h],h,n));return`
`+o.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(t=>t.selected).map(t=>t.title).join(", ");let e=[E.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(E.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(th.hide),super.render();let e=[wi.symbol(this.done,this.aborted),E.bold(this.msg),wi.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=E.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=yi(e,this.out.columns)}};xi.exports=ut});var Pi=u(($u,Mi)=>{"use strict";function Si(s,e,t,i,r,n,o){try{var h=s[n](o),l=h.value}catch(a){t(a);return}h.done?e(l):Promise.resolve(l).then(i,r)}function nh(s){return function(){var e=this,t=arguments;return new Promise(function(i,r){var n=s.apply(e,t);function o(l){Si(n,i,r,o,h,"next",l)}function h(l){Si(n,i,r,o,h,"throw",l)}o(void 0)})}}var de=v(),oh=L(),$i=y(),hh=$i.erase,qi=$i.cursor,fe=D(),ct=fe.style,Oi=fe.clear,dt=fe.figures,lh=fe.wrap,uh=fe.entriesToDisplay,Ti=(s,e)=>s[e]&&(s[e].value||s[e].title||s[e]),ah=(s,e)=>s[e]&&(s[e].title||s[e].value||s[e]),ch=(s,e)=>{let t=s.findIndex(i=>i.value===e||i.title===e);return t>-1?t:void 0},ft=class extends oh{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:ch(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=ct.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=Oi("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=Ti(this.suggestions,e):this.value=this.fallback.value,this.fire()}complete(e){var t=this;return nh(function*(){let i=t.completing=t.suggest(t.input,t.choices),r=yield i;if(t.completing!==i)return;t.suggestions=r.map((o,h,l)=>({title:ah(l,h),value:Ti(l,h),description:o.description})),t.completing=!1;let n=Math.max(r.length-1,0);t.moveSelect(Math.min(n,t.select)),e&&e()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,t){let i=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor);this.input=`${i}${e}${r}`,this.cursor=i.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),t=this.input.slice(this.cursor);this.input=`${e}${t}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),t=this.input.slice(this.cursor+1);this.input=`${e}${t}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,t,i,r){let n,o=i?dt.arrowUp:r?dt.arrowDown:" ",h=t?de.cyan().underline(e.title):e.title;return o=(t?de.cyan(dt.pointer)+" ":"  ")+o,e.description&&(n=` - ${e.description}`,(o.length+h.length+n.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(n=`
`+lh(e.description,{margin:3,width:this.out.columns}))),o+" "+h+de.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(qi.hide):this.out.write(Oi(this.outputText,this.out.columns)),super.render();let e=uh(this.select,this.choices.length,this.limit),t=e.startIndex,i=e.endIndex;if(this.outputText=[ct.symbol(this.done,this.aborted,this.exited),de.bold(this.msg),ct.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let r=this.suggestions.slice(t,i).map((n,o)=>this.renderOption(n,this.select===o+t,o===0&&t>0,o+t===i-1&&i<this.choices.length)).join(`
`);this.outputText+=`
`+(r||de.gray(this.fallback.title))}this.out.write(hh.line+qi.to(0)+this.outputText)}};Mi.exports=ft});var Ci=u((Mu,Ii)=>{"use strict";var V=v(),dh=y(),fh=dh.cursor,ph=at(),gt=D(),_i=gt.clear,Di=gt.style,ie=gt.figures,pt=class extends ph{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=_i("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(i=>this.inputValue?!!(typeof i.title=="string"&&i.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof i.value=="string"&&i.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let t=this.filteredOptions.findIndex(i=>i===e);this.cursor=t<0?0:t,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,t){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${ie.arrowUp}/${ie.arrowDown}: Highlight option
    ${ie.arrowLeft}/${ie.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:V.gray("Enter something to filter")}
`}renderOption(e,t,i){let r;return t.disabled?r=e===i?V.gray().underline(t.title):V.strikethrough().gray(t.title):r=e===i?V.cyan().underline(t.title):t.title,(t.selected?V.green(ie.radioOn):ie.radioOff)+"  "+r}renderDoneOrInstructions(){if(this.done)return this.value.filter(t=>t.selected).map(t=>t.title).join(", ");let e=[V.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(V.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(fh.hide),super.render();let e=[Di.symbol(this.done,this.aborted),V.bold(this.msg),Di.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=V.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=_i(e,this.out.columns)}};Ii.exports=pt});var Ni=u((Pu,Fi)=>{"use strict";var ji=v(),gh=L(),Ai=D(),ki=Ai.style,mh=Ai.clear,Ri=y(),vh=Ri.erase,Ei=Ri.cursor,mt=class extends gh{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,t){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(Ei.hide):this.out.write(mh(this.outputText,this.out.columns)),super.render(),this.outputText=[ki.symbol(this.done,this.aborted),ji.bold(this.msg),ki.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:ji.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(vh.line+Ei.to(0)+this.outputText))}};Fi.exports=mt});var Hi=u((_u,Li)=>{"use strict";Li.exports={TextPrompt:$s(),SelectPrompt:Ds(),TogglePrompt:As(),DatePrompt:ci(),NumberPrompt:bi(),MultiselectPrompt:at(),AutocompletePrompt:Pi(),AutocompleteMultiselectPrompt:Ci(),ConfirmPrompt:Ni()}});var Vi=u(Yi=>{"use strict";var T=Yi,bh=Hi(),_e=s=>s;function A(s,e,t={}){return new Promise((i,r)=>{let n=new bh[s](e),o=t.onAbort||_e,h=t.onSubmit||_e,l=t.onExit||_e;n.on("state",e.onState||_e),n.on("submit",a=>i(h(a))),n.on("exit",a=>i(l(a))),n.on("abort",a=>r(o(a)))})}T.text=s=>A("TextPrompt",s);T.password=s=>(s.style="password",T.text(s));T.invisible=s=>(s.style="invisible",T.text(s));T.number=s=>A("NumberPrompt",s);T.date=s=>A("DatePrompt",s);T.confirm=s=>A("ConfirmPrompt",s);T.list=s=>{let e=s.separator||",";return A("TextPrompt",s,{onSubmit:t=>t.split(e).map(i=>i.trim())})};T.toggle=s=>A("TogglePrompt",s);T.select=s=>A("SelectPrompt",s);T.multiselect=s=>{s.choices=[].concat(s.choices||[]);let e=t=>t.filter(i=>i.selected).map(i=>i.value);return A("MultiselectPrompt",s,{onAbort:e,onSubmit:e})};T.autocompleteMultiselect=s=>{s.choices=[].concat(s.choices||[]);let e=t=>t.filter(i=>i.selected).map(i=>i.value);return A("AutocompleteMultiselectPrompt",s,{onAbort:e,onSubmit:e})};var yh=(s,e)=>Promise.resolve(e.filter(t=>t.title.slice(0,s.length).toLowerCase()===s.toLowerCase()));T.autocomplete=s=>(s.suggest=s.suggest||yh,s.choices=[].concat(s.choices||[]),A("AutocompletePrompt",s))});var Ki=u((Iu,Wi)=>{"use strict";function Ui(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),t.push.apply(t,i)}return t}function Ji(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ui(Object(t),!0).forEach(function(i){wh(s,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):Ui(Object(t)).forEach(function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(t,i))})}return s}function wh(s,e,t){return e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function xh(s,e){var t=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!t){if(Array.isArray(s)||(t=Sh(s))||e&&s&&typeof s.length=="number"){t&&(s=t);var i=0,r=function(){};return{s:r,n:function(){return i>=s.length?{done:!0}:{done:!1,value:s[i++]}},e:function(a){throw a},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=!0,o=!1,h;return{s:function(){t=t.call(s)},n:function(){var a=t.next();return n=a.done,a},e:function(a){o=!0,h=a},f:function(){try{!n&&t.return!=null&&t.return()}finally{if(o)throw h}}}}function Sh(s,e){if(s){if(typeof s=="string")return Bi(s,e);var t=Object.prototype.toString.call(s).slice(8,-1);if(t==="Object"&&s.constructor&&(t=s.constructor.name),t==="Map"||t==="Set")return Array.from(s);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Bi(s,e)}}function Bi(s,e){(e==null||e>s.length)&&(e=s.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=s[t];return i}function Gi(s,e,t,i,r,n,o){try{var h=s[n](o),l=h.value}catch(a){t(a);return}h.done?e(l):Promise.resolve(l).then(i,r)}function zi(s){return function(){var e=this,t=arguments;return new Promise(function(i,r){var n=s.apply(e,t);function o(l){Gi(n,i,r,o,h,"next",l)}function h(l){Gi(n,i,r,o,h,"throw",l)}o(void 0)})}}var vt=Vi(),qh=["suggest","format","onState","validate","onRender","type"],Zi=()=>{};function Z(){return bt.apply(this,arguments)}function bt(){return bt=zi(function*(s=[],{onSubmit:e=Zi,onCancel:t=Zi}={}){let i={},r=Z._override||{};s=[].concat(s);let n,o,h,l,a,d,C=function(){var j=zi(function*(_,f,S=!1){if(!(!S&&_.validate&&_.validate(f)!==!0))return _.format?yield _.format(f,i):f});return function(f,S){return j.apply(this,arguments)}}();var w=xh(s),O;try{for(w.s();!(O=w.n()).done;){o=O.value;var Q=o;if(l=Q.name,a=Q.type,typeof a=="function"&&(a=yield a(n,Ji({},i),o),o.type=a),!!a){for(let j in o){if(qh.includes(j))continue;let _=o[j];o[j]=typeof _=="function"?yield _(n,Ji({},i),d):_}if(d=o,typeof o.message!="string")throw new Error("prompt message is required");var M=o;if(l=M.name,a=M.type,vt[a]===void 0)throw new Error(`prompt type (${a}) is not defined`);if(r[o.name]!==void 0&&(n=yield C(o,r[o.name]),n!==void 0)){i[l]=n;continue}try{n=Z._injected?Oh(Z._injected,o.initial):yield vt[a](o),i[l]=n=yield C(o,n,!0),h=yield e(o,n,i)}catch{h=!(yield t(o,i))}if(h)return i}}}catch(j){w.e(j)}finally{w.f()}return i}),bt.apply(this,arguments)}function Oh(s,e){let t=s.shift();if(t instanceof Error)throw t;return t===void 0?e:t}function Th(s){Z._injected=(Z._injected||[]).concat(s)}function $h(s){Z._override=Object.assign({},s)}Wi.exports=Object.assign(Z,{prompt:Z,prompts:vt,inject:Th,override:$h})});var Qi=u((Cu,Xi)=>{"use strict";Xi.exports=(s,e)=>{if(!(s.meta&&s.name!=="escape")){if(s.ctrl){if(s.name==="a")return"first";if(s.name==="c"||s.name==="d")return"abort";if(s.name==="e")return"last";if(s.name==="g")return"reset"}if(e){if(s.name==="j")return"down";if(s.name==="k")return"up"}return s.name==="return"||s.name==="enter"?"submit":s.name==="backspace"?"delete":s.name==="delete"?"deleteForward":s.name==="abort"?"abort":s.name==="escape"?"exit":s.name==="tab"?"next":s.name==="pagedown"?"nextPage":s.name==="pageup"?"prevPage":s.name==="home"?"home":s.name==="end"?"end":s.name==="up"?"up":s.name==="down"?"down":s.name==="right"?"right":s.name==="left"?"left":!1}}});var De=u((ju,er)=>{"use strict";er.exports=s=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),t=new RegExp(e,"g");return typeof s=="string"?s.replace(t,""):s}});var ir=u((ku,sr)=>{"use strict";var Mh=De(),{erase:tr,cursor:Ph}=y(),_h=s=>[...Mh(s)].length;sr.exports=function(s,e){if(!e)return tr.line+Ph.to(0);let t=0,i=s.split(/\r?\n/);for(let r of i)t+=1+Math.floor(Math.max(_h(r)-1,0)/e);return tr.lines(t)}});var yt=u((Eu,rr)=>{"use strict";var pe={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},Dh={arrowUp:pe.arrowUp,arrowDown:pe.arrowDown,arrowLeft:pe.arrowLeft,arrowRight:pe.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},Ih=process.platform==="win32"?Dh:pe;rr.exports=Ih});var or=u((Au,nr)=>{"use strict";var re=v(),te=yt(),wt=Object.freeze({password:{scale:1,render:s=>"*".repeat(s.length)},emoji:{scale:2,render:s=>"\u{1F603}".repeat(s.length)},invisible:{scale:0,render:s=>""},default:{scale:1,render:s=>`${s}`}}),Ch=s=>wt[s]||wt.default,ge=Object.freeze({aborted:re.red(te.cross),done:re.green(te.tick),exited:re.yellow(te.cross),default:re.cyan("?")}),jh=(s,e,t)=>e?ge.aborted:t?ge.exited:s?ge.done:ge.default,kh=s=>re.gray(s?te.ellipsis:te.pointerSmall),Eh=(s,e)=>re.gray(s?e?te.pointerSmall:"+":te.line);nr.exports={styles:wt,render:Ch,symbols:ge,symbol:jh,delimiter:kh,item:Eh}});var lr=u((Ru,hr)=>{"use strict";var Ah=De();hr.exports=function(s,e){let t=String(Ah(s)||"").split(/\r?\n/);return e?t.map(i=>Math.ceil(i.length/e)).reduce((i,r)=>i+r):t.length}});var ar=u((Fu,ur)=>{"use strict";ur.exports=(s,e={})=>{let t=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",i=e.width;return(s||"").split(/\r?\n/g).map(r=>r.split(/\s+/g).reduce((n,o)=>(o.length+t.length>=i||n[n.length-1].length+o.length+1<i?n[n.length-1]+=` ${o}`:n.push(`${t}${o}`),n),[t]).join(`
`)).join(`
`)}});var dr=u((Nu,cr)=>{"use strict";cr.exports=(s,e,t)=>{t=t||e;let i=Math.min(e-t,s-Math.floor(t/2));i<0&&(i=0);let r=Math.min(i+t,e);return{startIndex:i,endIndex:r}}});var I=u((Lu,fr)=>{"use strict";fr.exports={action:Qi(),clear:ir(),style:or(),strip:De(),figures:yt(),lines:lr(),wrap:ar(),entriesToDisplay:dr()}});var U=u((Hu,gr)=>{"use strict";var pr=require("readline"),{action:Rh}=I(),Fh=require("events"),{beep:Nh,cursor:Lh}=y(),Hh=v(),xt=class extends Fh{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let t=pr.createInterface({input:this.in,escapeCodeTimeout:50});pr.emitKeypressEvents(this.in,t),this.in.isTTY&&this.in.setRawMode(!0);let i=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,r=(n,o)=>{let h=Rh(o,i);h===!1?this._&&this._(n,o):typeof this[h]=="function"?this[h](o):this.bell()};this.close=()=>{this.out.write(Lh.show),this.in.removeListener("keypress",r),this.in.isTTY&&this.in.setRawMode(!1),t.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",r)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(Nh)}render(){this.onRender(Hh),this.firstRender&&(this.firstRender=!1)}};gr.exports=xt});var vr=u((Yu,mr)=>{"use strict";var Ie=v(),Yh=U(),{erase:Vh,cursor:me}=y(),{style:St,clear:qt,lines:Uh,figures:Jh}=I(),Ot=class extends Yh{constructor(e={}){super(e),this.transform=St.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=qt("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=Ie.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,t){let i=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor);this.value=`${i}${e}${r}`,this.red=!1,this.cursor=this.placeholder?0:i.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),t=this.value.slice(this.cursor);this.value=`${e}${t}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),t=this.value.slice(this.cursor+1);this.value=`${e}${t}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(me.down(Uh(this.outputError,this.out.columns)-1)+qt(this.outputError,this.out.columns)),this.out.write(qt(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[St.symbol(this.done,this.aborted),Ie.bold(this.msg),St.delimiter(this.done),this.red?Ie.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,t,i)=>e+`
${i?" ":Jh.pointerSmall} ${Ie.red().italic(t)}`,"")),this.out.write(Vh.line+me.to(0)+this.outputText+me.save+this.outputError+me.restore+me.move(this.cursorOffset,0)))}};mr.exports=Ot});var xr=u((Vu,wr)=>{"use strict";var J=v(),Bh=U(),{style:br,clear:yr,figures:Ce,wrap:Gh,entriesToDisplay:zh}=I(),{cursor:Zh}=y(),Tt=class extends Bh{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((t,i)=>(typeof t=="string"&&(t={title:t,value:i}),{title:t&&(t.title||t.value||t),value:t&&(t.value===void 0?i:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=yr("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,t){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(Zh.hide):this.out.write(yr(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:t}=zh(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[br.symbol(this.done,this.aborted),J.bold(this.msg),br.delimiter(!1),this.done?this.selection.title:this.selection.disabled?J.yellow(this.warn):J.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let i=e;i<t;i++){let r,n,o="",h=this.choices[i];i===e&&e>0?n=Ce.arrowUp:i===t-1&&t<this.choices.length?n=Ce.arrowDown:n=" ",h.disabled?(r=this.cursor===i?J.gray().underline(h.title):J.strikethrough().gray(h.title),n=(this.cursor===i?J.bold().gray(Ce.pointer)+" ":"  ")+n):(r=this.cursor===i?J.cyan().underline(h.title):h.title,n=(this.cursor===i?J.cyan(Ce.pointer)+" ":"  ")+n,h.description&&this.cursor===i&&(o=` - ${h.description}`,(n.length+r.length+o.length>=this.out.columns||h.description.split(/\r?\n/).length>1)&&(o=`
`+Gh(h.description,{margin:3,width:this.out.columns})))),this.outputText+=`${n} ${r}${J.gray(o)}
`}}this.out.write(this.outputText)}};wr.exports=Tt});var Tr=u((Uu,Or)=>{"use strict";var je=v(),Wh=U(),{style:Sr,clear:Kh}=I(),{cursor:qr,erase:Xh}=y(),$t=class extends Wh{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,t){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(qr.hide):this.out.write(Kh(this.outputText,this.out.columns)),super.render(),this.outputText=[Sr.symbol(this.done,this.aborted),je.bold(this.msg),Sr.delimiter(this.done),this.value?this.inactive:je.cyan().underline(this.inactive),je.gray("/"),this.value?je.cyan().underline(this.active):this.active].join(" "),this.out.write(Xh.line+qr.to(0)+this.outputText))}};Or.exports=$t});var R=u((Ju,$r)=>{"use strict";var Mt=class s{constructor({token:e,date:t,parts:i,locales:r}){this.token=e,this.date=t||new Date,this.parts=i||[this],this.locales=r||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((t,i)=>i>e&&t instanceof s)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),t=e.indexOf(this);return e.find((i,r)=>r>t&&i instanceof s)}toString(){return String(this.date)}};$r.exports=Mt});var Pr=u((Bu,Mr)=>{"use strict";var Qh=R(),Pt=class extends Qh{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};Mr.exports=Pt});var Dr=u((Gu,_r)=>{"use strict";var el=R(),tl=s=>(s=s%10,s===1?"st":s===2?"nd":s===3?"rd":"th"),_t=class extends el{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),t=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+tl(e):this.token==="d"?t+1:this.token==="ddd"?this.locales.weekdaysShort[t]:this.token==="dddd"?this.locales.weekdays[t]:e}};_r.exports=_t});var Cr=u((zu,Ir)=>{"use strict";var sl=R(),Dt=class extends sl{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};Ir.exports=Dt});var kr=u((Zu,jr)=>{"use strict";var il=R(),It=class extends il{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};jr.exports=It});var Ar=u((Wu,Er)=>{"use strict";var rl=R(),Ct=class extends rl{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};Er.exports=Ct});var Fr=u((Ku,Rr)=>{"use strict";var nl=R(),jt=class extends nl{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),t=this.token.length;return t===2?String(e+1).padStart(2,"0"):t===3?this.locales.monthsShort[e]:t===4?this.locales.months[e]:String(e+1)}};Rr.exports=jt});var Lr=u((Xu,Nr)=>{"use strict";var ol=R(),kt=class extends ol{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};Nr.exports=kt});var Yr=u((Qu,Hr)=>{"use strict";var hl=R(),Et=class extends hl{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};Hr.exports=Et});var Ur=u((ea,Vr)=>{"use strict";Vr.exports={DatePart:R(),Meridiem:Pr(),Day:Dr(),Hours:Cr(),Milliseconds:kr(),Minutes:Ar(),Month:Fr(),Seconds:Lr(),Year:Yr()}});var Kr=u((ta,Wr)=>{"use strict";var At=v(),ll=U(),{style:Jr,clear:Br,figures:ul}=I(),{erase:al,cursor:Gr}=y(),{DatePart:zr,Meridiem:cl,Day:dl,Hours:fl,Milliseconds:pl,Minutes:gl,Month:ml,Seconds:vl,Year:bl}=Ur(),yl=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,Zr={1:({token:s})=>s.replace(/\\(.)/g,"$1"),2:s=>new dl(s),3:s=>new ml(s),4:s=>new bl(s),5:s=>new cl(s),6:s=>new fl(s),7:s=>new gl(s),8:s=>new vl(s),9:s=>new pl(s)},wl={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},Rt=class extends ll{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(wl,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=Br("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let t;for(this.parts=[];t=yl.exec(e);){let r=t.shift(),n=t.findIndex(o=>o!=null);this.parts.push(n in Zr?Zr[n]({token:t[n]||r,date:this.date,parts:this.parts,locales:this.locales}):t[n]||r)}let i=this.parts.reduce((r,n)=>(typeof n=="string"&&typeof r[r.length-1]=="string"?r[r.length-1]+=n:r.push(n),r),[]);this.parts.splice(0),this.parts.push(...i),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof zr)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(t=>t instanceof zr)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(Gr.hide):this.out.write(Br(this.outputText,this.out.columns)),super.render(),this.outputText=[Jr.symbol(this.done,this.aborted),At.bold(this.msg),Jr.delimiter(!1),this.parts.reduce((e,t,i)=>e.concat(i===this.cursor&&!this.done?At.cyan().underline(t.toString()):t),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,t,i)=>e+`
${i?" ":ul.pointerSmall} ${At.red().italic(t)}`,"")),this.out.write(al.line+Gr.to(0)+this.outputText))}};Wr.exports=Rt});var tn=u((sa,en)=>{"use strict";var ke=v(),xl=U(),{cursor:Ee,erase:Sl}=y(),{style:Ft,figures:ql,clear:Xr,lines:Ol}=I(),Tl=/[0-9]/,Nt=s=>s!==void 0,Qr=(s,e)=>{let t=Math.pow(10,e);return Math.round(s*t)/t},Lt=class extends xl{constructor(e={}){super(e),this.transform=Ft.render(e.style),this.msg=e.message,this.initial=Nt(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=Nt(e.min)?e.min:-1/0,this.max=Nt(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=ke.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${Qr(e,this.round)}`),this._value=Qr(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||Tl.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let e=this.value;this.value=e!==""?e:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,t){if(!this.valid(e))return this.bell();let i=Date.now();if(i-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=i,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Ee.down(Ol(this.outputError,this.out.columns)-1)+Xr(this.outputError,this.out.columns)),this.out.write(Xr(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Ft.symbol(this.done,this.aborted),ke.bold(this.msg),Ft.delimiter(this.done),!this.done||!this.done&&!this.placeholder?ke[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,t,i)=>e+`
${i?" ":ql.pointerSmall} ${ke.red().italic(t)}`,"")),this.out.write(Sl.line+Ee.to(0)+this.outputText+Ee.save+this.outputError+Ee.restore))}};en.exports=Lt});var Yt=u((ia,nn)=>{"use strict";var F=v(),{cursor:$l}=y(),Ml=U(),{clear:sn,figures:W,style:rn,wrap:Pl,entriesToDisplay:_l}=I(),Ht=class extends Ml{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((t,i)=>(typeof t=="string"&&(t={title:t,value:i}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(t.value===void 0?i:t.value),selected:t&&t.selected,disabled:t&&t.disabled})),this.clear=sn("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(t=>t.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(t=>!t.disabled).forEach(t=>t.selected=e),this.render()}_(e,t){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${W.arrowUp}/${W.arrowDown}: Highlight option
    ${W.arrowLeft}/${W.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,t,i,r){let n=(t.selected?F.green(W.radioOn):W.radioOff)+" "+r+" ",o,h;return t.disabled?o=e===i?F.gray().underline(t.title):F.strikethrough().gray(t.title):(o=e===i?F.cyan().underline(t.title):t.title,e===i&&t.description&&(h=` - ${t.description}`,(n.length+o.length+h.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(h=`
`+Pl(t.description,{margin:n.length,width:this.out.columns})))),n+o+F.gray(h||"")}paginateOptions(e){if(e.length===0)return F.red("No matches for this query.");let{startIndex:t,endIndex:i}=_l(this.cursor,e.length,this.optionsPerPage),r,n=[];for(let o=t;o<i;o++)o===t&&t>0?r=W.arrowUp:o===i-1&&i<e.length?r=W.arrowDown:r=" ",n.push(this.renderOption(this.cursor,e[o],o,r));return`
`+n.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(t=>t.selected).map(t=>t.title).join(", ");let e=[F.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(F.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write($l.hide),super.render();let e=[rn.symbol(this.done,this.aborted),F.bold(this.msg),rn.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=F.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=sn(e,this.out.columns)}};nn.exports=Ht});var an=u((ra,un)=>{"use strict";var ve=v(),Dl=U(),{erase:Il,cursor:on}=y(),{style:Vt,clear:hn,figures:Ut,wrap:Cl,entriesToDisplay:jl}=I(),ln=(s,e)=>s[e]&&(s[e].value||s[e].title||s[e]),kl=(s,e)=>s[e]&&(s[e].title||s[e].value||s[e]),El=(s,e)=>{let t=s.findIndex(i=>i.value===e||i.title===e);return t>-1?t:void 0},Jt=class extends Dl{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:El(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=Vt.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=hn("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=ln(this.suggestions,e):this.value=this.fallback.value,this.fire()}async complete(e){let t=this.completing=this.suggest(this.input,this.choices),i=await t;if(this.completing!==t)return;this.suggestions=i.map((n,o,h)=>({title:kl(h,o),value:ln(h,o),description:n.description})),this.completing=!1;let r=Math.max(i.length-1,0);this.moveSelect(Math.min(r,this.select)),e&&e()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,t){let i=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor);this.input=`${i}${e}${r}`,this.cursor=i.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),t=this.input.slice(this.cursor);this.input=`${e}${t}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),t=this.input.slice(this.cursor+1);this.input=`${e}${t}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,t,i,r){let n,o=i?Ut.arrowUp:r?Ut.arrowDown:" ",h=t?ve.cyan().underline(e.title):e.title;return o=(t?ve.cyan(Ut.pointer)+" ":"  ")+o,e.description&&(n=` - ${e.description}`,(o.length+h.length+n.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(n=`
`+Cl(e.description,{margin:3,width:this.out.columns}))),o+" "+h+ve.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(on.hide):this.out.write(hn(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:t}=jl(this.select,this.choices.length,this.limit);if(this.outputText=[Vt.symbol(this.done,this.aborted,this.exited),ve.bold(this.msg),Vt.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let i=this.suggestions.slice(e,t).map((r,n)=>this.renderOption(r,this.select===n+e,n===0&&e>0,n+e===t-1&&t<this.choices.length)).join(`
`);this.outputText+=`
`+(i||ve.gray(this.fallback.title))}this.out.write(Il.line+on.to(0)+this.outputText)}};un.exports=Jt});var pn=u((na,fn)=>{"use strict";var B=v(),{cursor:Al}=y(),Rl=Yt(),{clear:cn,style:dn,figures:ne}=I(),Bt=class extends Rl{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=cn("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(i=>this.inputValue?!!(typeof i.title=="string"&&i.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof i.value=="string"&&i.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let t=this.filteredOptions.findIndex(i=>i===e);this.cursor=t<0?0:t,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,t){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${ne.arrowUp}/${ne.arrowDown}: Highlight option
    ${ne.arrowLeft}/${ne.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:B.gray("Enter something to filter")}
`}renderOption(e,t,i){let r;return t.disabled?r=e===i?B.gray().underline(t.title):B.strikethrough().gray(t.title):r=e===i?B.cyan().underline(t.title):t.title,(t.selected?B.green(ne.radioOn):ne.radioOff)+"  "+r}renderDoneOrInstructions(){if(this.done)return this.value.filter(t=>t.selected).map(t=>t.title).join(", ");let e=[B.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(B.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Al.hide),super.render();let e=[dn.symbol(this.done,this.aborted),B.bold(this.msg),dn.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=B.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=cn(e,this.out.columns)}};fn.exports=Bt});var yn=u((oa,bn)=>{"use strict";var gn=v(),Fl=U(),{style:mn,clear:Nl}=I(),{erase:Ll,cursor:vn}=y(),Gt=class extends Fl{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,t){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(vn.hide):this.out.write(Nl(this.outputText,this.out.columns)),super.render(),this.outputText=[mn.symbol(this.done,this.aborted),gn.bold(this.msg),mn.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:gn.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(Ll.line+vn.to(0)+this.outputText))}};bn.exports=Gt});var xn=u((ha,wn)=>{"use strict";wn.exports={TextPrompt:vr(),SelectPrompt:xr(),TogglePrompt:Tr(),DatePrompt:Kr(),NumberPrompt:tn(),MultiselectPrompt:Yt(),AutocompletePrompt:an(),AutocompleteMultiselectPrompt:pn(),ConfirmPrompt:yn()}});var qn=u(Sn=>{"use strict";var $=Sn,Hl=xn(),Ae=s=>s;function N(s,e,t={}){return new Promise((i,r)=>{let n=new Hl[s](e),o=t.onAbort||Ae,h=t.onSubmit||Ae,l=t.onExit||Ae;n.on("state",e.onState||Ae),n.on("submit",a=>i(h(a))),n.on("exit",a=>i(l(a))),n.on("abort",a=>r(o(a)))})}$.text=s=>N("TextPrompt",s);$.password=s=>(s.style="password",$.text(s));$.invisible=s=>(s.style="invisible",$.text(s));$.number=s=>N("NumberPrompt",s);$.date=s=>N("DatePrompt",s);$.confirm=s=>N("ConfirmPrompt",s);$.list=s=>{let e=s.separator||",";return N("TextPrompt",s,{onSubmit:t=>t.split(e).map(i=>i.trim())})};$.toggle=s=>N("TogglePrompt",s);$.select=s=>N("SelectPrompt",s);$.multiselect=s=>{s.choices=[].concat(s.choices||[]);let e=t=>t.filter(i=>i.selected).map(i=>i.value);return N("MultiselectPrompt",s,{onAbort:e,onSubmit:e})};$.autocompleteMultiselect=s=>{s.choices=[].concat(s.choices||[]);let e=t=>t.filter(i=>i.selected).map(i=>i.value);return N("AutocompleteMultiselectPrompt",s,{onAbort:e,onSubmit:e})};var Yl=(s,e)=>Promise.resolve(e.filter(t=>t.title.slice(0,s.length).toLowerCase()===s.toLowerCase()));$.autocomplete=s=>(s.suggest=s.suggest||Yl,s.choices=[].concat(s.choices||[]),N("AutocompletePrompt",s))});var $n=u((ua,Tn)=>{"use strict";var zt=qn(),Vl=["suggest","format","onState","validate","onRender","type"],On=()=>{};async function K(s=[],{onSubmit:e=On,onCancel:t=On}={}){let i={},r=K._override||{};s=[].concat(s);let n,o,h,l,a,d,C=async(w,O,Q=!1)=>{if(!(!Q&&w.validate&&w.validate(O)!==!0))return w.format?await w.format(O,i):O};for(o of s)if({name:l,type:a}=o,typeof a=="function"&&(a=await a(n,{...i},o),o.type=a),!!a){for(let w in o){if(Vl.includes(w))continue;let O=o[w];o[w]=typeof O=="function"?await O(n,{...i},d):O}if(d=o,typeof o.message!="string")throw new Error("prompt message is required");if({name:l,type:a}=o,zt[a]===void 0)throw new Error(`prompt type (${a}) is not defined`);if(r[o.name]!==void 0&&(n=await C(o,r[o.name]),n!==void 0)){i[l]=n;continue}try{n=K._injected?Ul(K._injected,o.initial):await zt[a](o),i[l]=n=await C(o,n,!0),h=await e(o,n,i)}catch{h=!await t(o,i)}if(h)return i}return i}function Ul(s,e){let t=s.shift();if(t instanceof Error)throw t;return t===void 0?e:t}function Jl(s){K._injected=(K._injected||[]).concat(s)}function Bl(s){K._override=Object.assign({},s)}Tn.exports=Object.assign(K,{prompt:K,prompts:zt,inject:Jl,override:Bl})});var Pn=u((aa,Mn)=>{"use strict";function Gl(s){s=(Array.isArray(s)?s:s.split(".")).map(Number);let e=0,t=process.versions.node.split(".").map(Number);for(;e<s.length;e++){if(t[e]>s[e])return!1;if(s[e]>t[e])return!0}return!1}Mn.exports=Gl("8.6.0")?Ki():$n()});var Zl={};Hn(Zl,{default:()=>kn});module.exports=Yn(Zl);var we=G(require("path")),p={root:we.default.resolve(__dirname,"../../../../../../"),apps:we.default.resolve(__dirname,"../../../../../../apps"),templates:we.default.resolve(__dirname,"../../template/next-app")};var X=require("child_process"),c=G(require("path")),Re=G(Pn()),P=G(require("fs"));var x=G(require("fs")),_n=G(require("nunjucks")),Zt=G(require("path")),Wt=(s,e,t)=>{((t==null?void 0:t.createDirIfNot)??!0)&&!x.existsSync(Zt.default.resolve(e,"../"))&&x.mkdirSync(Zt.default.resolve(e,"../"),{recursive:!0});let i=t!=null&&t.contentTransform?t==null?void 0:t.contentTransform(x.readFileSync(s,"utf-8")):x.readFileSync(s,"utf-8");x.writeFileSync(e,t!=null&&t.context?_n.default.renderString(i,t.context):i)},zl=(...s)=>{for(let e of s)Wt(...e)},Dn=(s,e,t)=>{x.existsSync(e)||x.mkdirSync(e,{recursive:!0});let i=x.readdirSync(s);for(let r of i){let n=x.lstatSync(`${s}/${r}`);if(n.isDirectory())Dn(`${s}/${r}`,`${e}/${r}`,t);else if(n.isSymbolicLink()){let o=x.readlinkSync(`${s}/${r}`);x.symlinkSync(o,`${e}/${r}`)}else{let o=`${e}/${t!=null&&t.fileNameTransform?t.fileNameTransform(r):r}`,h=t==null?void 0:t.context;Wt(`${s}/${r}`,o,{...t,context:h instanceof Function?h(r):h})}}},be=class{constructor(e){this.opts=e}log(...e){this.opts.logging&&console.log(...e)}copyFile=(...e)=>{this.log("Copying file: "+e[0]),Wt(...e)};copyFiles=(...e)=>{this.log("Copying files: "+e.map(t=>t[0]).join(", ")),zl(...e)};copyDir=(...e)=>{this.log("Copying directory: "+e[0]),Dn(...e)}};var jn=G(require("nunjucks")),{parse:In,stringify:Cn}=require("envfile"),oe=new be({logging:!0});async function kn(){let s={devDependencies:[],dependencies:[{name:"@repo/ui",version:"*"},{name:"@repo/bin",version:"*"},{name:"@repo/tailwind-config",version:"*"},"nextjs-toploader","zod","@tanstack/react-query","@tanstack/react-query-devtools","prompts"]},e=P.readdirSync(p.apps),t=In(P.readFileSync(c.default.resolve(p.root,".env.template"),"utf-8")),i=In(P.readFileSync(c.default.resolve(p.root,".env"),"utf-8")),r=Object.entries(i).filter(([f])=>f.match(/NEXT_PUBLIC_(.*)URL/)).map(f=>f[1]),n=[];function o(f){return!!new RegExp("^https?:\\/\\/(((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|localhost)|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(f)}let h=(f,S)=>{let q=f;return S.some(En=>En.port===q)?h(`${Number(q)+1}`,S):q},l=await(0,Re.default)({type:"text",name:"dir",message:"Enter the project name",validate:f=>f.length===0?"Please enter a valid name":e.some(S=>S===f)?"The project name is already used":!0}).then(f=>f.dir),a=await(0,Re.default)({type:"text",name:"url",message:"Enter the app url",initial:`http://localhost:${h("3000",r.map(f=>new URL(f)))}`,validate:f=>{if(!o(f))return"Please enter a valid url";if(r.includes(f))return"The url "+f+" is already used";let S=new URL(f);return S.protocol!=="http:"&&S.protocol!=="https:"?"Please enter a valid url":r.some(q=>new URL(q).port===S.port)?"The port is already used":!0}}).then(f=>f.url);console.log(`

Creating a new Next.js app with npx create-next-app@latest ${l} --typescript --eslint --tailwind --src-dir --app

`),(0,X.spawnSync)(`npx create-next-app@latest ${l} --typescript --eslint --tailwind --src-dir --app`,{cwd:p.apps,stdio:"inherit",shell:!0});let d=c.default.resolve(p.apps,l),C=JSON.parse(P.readFileSync(c.default.resolve(d,"package.json"),"utf-8")),w=`NEXT_PUBLIC_${l.toUpperCase()}_URL`,O=`NEXT_PUBLIC_${l.toUpperCase()}_PORT`;t[w]=`\${:${w}}`,i[w]=a,i[O]=new URL(a).port,P.writeFileSync(c.default.resolve(p.root,".env"),Cn(i)),P.writeFileSync(c.default.resolve(p.root,".env.template"),Cn(t)),C.scripts=JSON.parse(jn.default.renderString(P.readFileSync(c.default.resolve(p.templates,"package.script.json.njk"),"utf-8"),{envPortName:O})),oe.copyFiles([c.default.resolve(p.templates,"tailwind.config.ts.njk"),c.default.resolve(d,"tailwind.config.ts"),{context:{}}],[c.default.resolve(p.templates,"globals.css.njk"),c.default.resolve(d,"src/app/globals.css"),{context:{}}],[c.default.resolve(p.templates,"app/page.tsx.njk"),c.default.resolve(d,"src/app/page.tsx")],[c.default.resolve(p.templates,"env.ts.njk"),c.default.resolve(d,"env.ts")],[c.default.resolve(p.templates,"env.template.njk"),c.default.resolve(d,".env.template")],[c.default.resolve(p.templates,"init.js.njk"),c.default.resolve(d,"init.js"),{context:{appUrl:a,envName:w}}],[c.default.resolve(p.templates,"utils/providers/ReactQueryProviders.tsx.njk"),c.default.resolve(d,"src/utils/providers/ReactQueryProviders.tsx")],[c.default.resolve(p.templates,"utils/providers/NextAuthProviders/index.tsx.njk"),c.default.resolve(d,"src/utils/providers/NextAuthProviders/index.tsx")],[c.default.resolve(p.templates,"utils/providers/NextAuthProviders/ClientNextAuthProviders.tsx.njk"),c.default.resolve(d,"src/utils/providers/NextAuthProviders/ClientNextAuthProviders.tsx"),{context:{}}],[c.default.resolve(p.templates,"actions/redirect.ts.njk"),c.default.resolve(d,"src/actions/redirect.ts")],[c.default.resolve(p.templates,"types/next-auth.d.ts.njk"),c.default.resolve(d,"src/types/next-auth.d.ts")]);let Q=JSON.parse(P.readFileSync(c.default.resolve(d,"tsconfig.json"),"utf-8"));Q.compilerOptions.paths["#/*"]=["./*"],P.writeFileSync(c.default.resolve(d,"tsconfig.json"),JSON.stringify(Q,null,4));let M=await(0,Re.default)({type:"multiselect",name:"features",message:"Select the features you want to add",choices:[{title:"Directus",value:"directus",description:"install the directus sdk with all the other side package then create the library"},{title:"shadcnui",value:"shadcnui",description:"install the shadcnui"},{title:"next-auth",value:"next-auth",description:"install next-auth"},{title:"auth-page",value:"auth-page",description:"create the page for the login and me route (use next-auth if installed)"},{title:"declarative-routing",value:"declarative-routing",description:"Declarative routing is a way to define routes in a single file and use it in the app"}]});M.features.includes("directus")&&n.push(()=>{console.log("install the directus features"),s.dependencies.push({name:"@repo/directus-sdk",version:"*"}),oe.copyDir(c.default.resolve(p.templates,"directus/lib"),c.default.resolve(d,"src/lib/directus"),{fileNameTransform:f=>f.replace(".njk",""),context:{useNextAuth:M.features.includes("next-auth")}})}),M.features.includes("shadcnui")&&n.push(()=>{console.log("install the shadcnui features"),(0,X.spawnSync)("npx shadcn-ui@latest init",{cwd:d,stdio:"inherit",shell:!0})}),M.features.includes("next-auth")&&n.push(()=>{console.log("install the next-auth features"),s.dependencies.push("next-auth"),oe.copyFiles([c.default.resolve(p.templates,"next-auth/app/api/auth/[...nextauth]/route.ts.njk"),c.default.resolve(d,"src/app/api/auth/[...nextauth]/route.ts")],[c.default.resolve(p.templates,"next-auth/app/layout.tsx.njk"),c.default.resolve(d,"src/app/layout.tsx")],[c.default.resolve(p.templates,"next-auth/env.ts.njk"),c.default.resolve(d,"src/env.ts")],[c.default.resolve(p.templates,"next-auth/app/auth/error/page.tsx.njk"),c.default.resolve(d,"src/app/auth/error/page.tsx")]),oe.copyDir(c.default.resolve(p.templates,"next-auth/lib/auth"),c.default.resolve(d,"src/lib/auth"),{fileNameTransform:f=>f.replace(".njk",""),context:{useDirectus:M.features.includes("directus"),useDeclarativeRouting:M.features.includes("declarative-routing")}}),M.features.includes("directus")&&oe.copyFiles([c.default.resolve(p.templates,"next-auth/lib/better-unstable-cache.ts.njk"),c.default.resolve(d,"src/lib/better-unstable-cache.ts")],[c.default.resolve(p.templates,"next-auth/lib/utils.ts.njk"),c.default.resolve(d,"src/lib/utils.ts"),{context:{useShadcnUI:M.features.includes("shadcnui")}}])}),M.features.includes("auth-page")&&n.push(()=>{console.log("install the auth-page features"),oe.copyFiles([c.default.resolve(p.templates,"auth-page/app/auth/login/page.tsx.njk"),c.default.resolve(d,"src/app/auth/login/page.tsx")],[c.default.resolve(p.templates,"auth-page/app/auth/me/page.tsx.njk"),c.default.resolve(d,"src/app/auth/me/page.tsx")],[c.default.resolve(p.templates,"auth-page/app/auth/me/SignOutButton.tsx.njk"),c.default.resolve(d,"src/app/auth/me/SignOutButton.tsx")])}),M.features.includes("declarative-routing")&&n.push(()=>{console.log("install the declarative-routing features"),(0,X.spawnSync)("npx declarative-routing init",{cwd:d,stdio:"inherit",shell:!0}),(0,X.spawnSync)("npx declarative-routing build",{cwd:d,stdio:"inherit",shell:!0})});let j=async()=>{for(let f of n)await f()},_=()=>{let f=[],S=[];s.dependencies.forEach(q=>{typeof q=="string"?f.push(q):C.dependencies[q.name]=q.version}),s.devDependencies.forEach(q=>{typeof q=="string"?S.push(q):C.devDependencies[q.name]=q.version}),console.log("write the package.json file"),P.writeFileSync(c.default.resolve(d,"package.json"),JSON.stringify(C,null,4)),console.log("install the dependencies"),(0,X.spawnSync)(`npm install ${f.join(" ")}`,{cwd:d,stdio:"inherit",shell:!0}),(0,X.spawnSync)(`npm install ${S.join(" ")} --save-dev`,{cwd:d,stdio:"inherit",shell:!0})};await j(),_(),(0,X.spawnSync)("npm run init",{cwd:d,stdio:"inherit",shell:!0,env:{...process.env,[w]:a,[O]:new URL(a).port}})}
