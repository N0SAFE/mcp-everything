"use strict";var Hn=Object.create;var ve=Object.defineProperty;var Yn=Object.getOwnPropertyDescriptor;var Vn=Object.getOwnPropertyNames;var Un=Object.getPrototypeOf,Jn=Object.prototype.hasOwnProperty;var u=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),Gn=(i,e)=>{for(var t in e)ve(i,t,{get:e[t],enumerable:!0})},Xt=(i,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Vn(e))!Jn.call(i,r)&&r!==t&&ve(i,r,{get:()=>e[r],enumerable:!(s=Yn(e,r))||s.enumerable});return i};var U=(i,e,t)=>(t=i!=null?Hn(Un(i)):{},Xt(e||!i||!i.__esModule?ve(t,"default",{value:i,enumerable:!0}):t,i)),zn=i=>Xt(ve({},"__esModule",{value:!0}),i);var g=u((hu,ei)=>{"use strict";var{FORCE_COLOR:Bn,NODE_DISABLE_COLORS:Zn,TERM:Wn}=process.env,d={enabled:!Zn&&Wn!=="dumb"&&Bn!=="0",reset:f(0,0),bold:f(1,22),dim:f(2,22),italic:f(3,23),underline:f(4,24),inverse:f(7,27),hidden:f(8,28),strikethrough:f(9,29),black:f(30,39),red:f(31,39),green:f(32,39),yellow:f(33,39),blue:f(34,39),magenta:f(35,39),cyan:f(36,39),white:f(37,39),gray:f(90,39),grey:f(90,39),bgBlack:f(40,49),bgRed:f(41,49),bgGreen:f(42,49),bgYellow:f(43,49),bgBlue:f(44,49),bgMagenta:f(45,49),bgCyan:f(46,49),bgWhite:f(47,49)};function Qt(i,e){let t=0,s,r="",o="";for(;t<i.length;t++)s=i[t],r+=s.open,o+=s.close,e.includes(s.close)&&(e=e.replace(s.rgx,s.close+s.open));return r+e+o}function Kn(i,e){let t={has:i,keys:e};return t.reset=d.reset.bind(t),t.bold=d.bold.bind(t),t.dim=d.dim.bind(t),t.italic=d.italic.bind(t),t.underline=d.underline.bind(t),t.inverse=d.inverse.bind(t),t.hidden=d.hidden.bind(t),t.strikethrough=d.strikethrough.bind(t),t.black=d.black.bind(t),t.red=d.red.bind(t),t.green=d.green.bind(t),t.yellow=d.yellow.bind(t),t.blue=d.blue.bind(t),t.magenta=d.magenta.bind(t),t.cyan=d.cyan.bind(t),t.white=d.white.bind(t),t.gray=d.gray.bind(t),t.grey=d.grey.bind(t),t.bgBlack=d.bgBlack.bind(t),t.bgRed=d.bgRed.bind(t),t.bgGreen=d.bgGreen.bind(t),t.bgYellow=d.bgYellow.bind(t),t.bgBlue=d.bgBlue.bind(t),t.bgMagenta=d.bgMagenta.bind(t),t.bgCyan=d.bgCyan.bind(t),t.bgWhite=d.bgWhite.bind(t),t}function f(i,e){let t={open:`\x1B[${i}m`,close:`\x1B[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(s){return this!==void 0&&this.has!==void 0?(this.has.includes(i)||(this.has.push(i),this.keys.push(t)),s===void 0?this:d.enabled?Qt(this.keys,s+""):s+""):s===void 0?Kn([i],[t]):d.enabled?Qt([t],s+""):s+""}}ei.exports=d});var ii=u((lu,ti)=>{"use strict";ti.exports=(i,e)=>{if(!(i.meta&&i.name!=="escape")){if(i.ctrl){if(i.name==="a")return"first";if(i.name==="c"||i.name==="d")return"abort";if(i.name==="e")return"last";if(i.name==="g")return"reset"}if(e){if(i.name==="j")return"down";if(i.name==="k")return"up"}return i.name==="return"||i.name==="enter"?"submit":i.name==="backspace"?"delete":i.name==="delete"?"deleteForward":i.name==="abort"?"abort":i.name==="escape"?"exit":i.name==="tab"?"next":i.name==="pagedown"?"nextPage":i.name==="pageup"?"prevPage":i.name==="home"?"home":i.name==="end"?"end":i.name==="up"?"up":i.name==="down"?"down":i.name==="right"?"right":i.name==="left"?"left":!1}}});var ye=u((uu,si)=>{"use strict";si.exports=i=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),t=new RegExp(e,"g");return typeof i=="string"?i.replace(t,""):i}});var v=u((au,ri)=>{"use strict";var Re="\x1B",m=`${Re}[`,Xn="\x07",Fe={to(i,e){return e?`${m}${e+1};${i+1}H`:`${m}${i+1}G`},move(i,e){let t="";return i<0?t+=`${m}${-i}D`:i>0&&(t+=`${m}${i}C`),e<0?t+=`${m}${-e}A`:e>0&&(t+=`${m}${e}B`),t},up:(i=1)=>`${m}${i}A`,down:(i=1)=>`${m}${i}B`,forward:(i=1)=>`${m}${i}C`,backward:(i=1)=>`${m}${i}D`,nextLine:(i=1)=>`${m}E`.repeat(i),prevLine:(i=1)=>`${m}F`.repeat(i),left:`${m}G`,hide:`${m}?25l`,show:`${m}?25h`,save:`${Re}7`,restore:`${Re}8`},Qn={up:(i=1)=>`${m}S`.repeat(i),down:(i=1)=>`${m}T`.repeat(i)},eo={screen:`${m}2J`,up:(i=1)=>`${m}1J`.repeat(i),down:(i=1)=>`${m}J`.repeat(i),line:`${m}2K`,lineEnd:`${m}K`,lineStart:`${m}1K`,lines(i){let e="";for(let t=0;t<i;t++)e+=this.line+(t<i-1?Fe.up():"");return i&&(e+=Fe.left),e}};ri.exports={cursor:Fe,scroll:Qn,erase:eo,beep:Xn}});var ui=u((cu,li)=>{"use strict";function to(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=io(i))||e&&i&&typeof i.length=="number"){t&&(i=t);var s=0,r=function(){};return{s:r,n:function(){return s>=i.length?{done:!0}:{done:!1,value:i[s++]}},e:function(a){throw a},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,n=!1,h;return{s:function(){t=t.call(i)},n:function(){var a=t.next();return o=a.done,a},e:function(a){n=!0,h=a},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(n)throw h}}}}function io(i,e){if(i){if(typeof i=="string")return ni(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ni(i,e)}}function ni(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=i[t];return s}var so=ye(),hi=v(),oi=hi.erase,ro=hi.cursor,no=i=>[...so(i)].length;li.exports=function(i,e){if(!e)return oi.line+ro.to(0);let t=0,s=i.split(/\r?\n/);var r=to(s),o;try{for(r.s();!(o=r.n()).done;){let n=o.value;t+=1+Math.floor(Math.max(no(n)-1,0)/e)}}catch(n){r.e(n)}finally{r.f()}return oi.lines(t)}});var Ne=u((du,ai)=>{"use strict";var re={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},oo={arrowUp:re.arrowUp,arrowDown:re.arrowDown,arrowLeft:re.arrowLeft,arrowRight:re.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},ho=process.platform==="win32"?oo:re;ai.exports=ho});var di=u((fu,ci)=>{"use strict";var X=g(),Z=Ne(),Le=Object.freeze({password:{scale:1,render:i=>"*".repeat(i.length)},emoji:{scale:2,render:i=>"\u{1F603}".repeat(i.length)},invisible:{scale:0,render:i=>""},default:{scale:1,render:i=>`${i}`}}),lo=i=>Le[i]||Le.default,ne=Object.freeze({aborted:X.red(Z.cross),done:X.green(Z.tick),exited:X.yellow(Z.cross),default:X.cyan("?")}),uo=(i,e,t)=>e?ne.aborted:t?ne.exited:i?ne.done:ne.default,ao=i=>X.gray(i?Z.ellipsis:Z.pointerSmall),co=(i,e)=>X.gray(i?e?Z.pointerSmall:"+":Z.line);ci.exports={styles:Le,render:lo,symbols:ne,symbol:uo,delimiter:ao,item:co}});var pi=u((pu,fi)=>{"use strict";var fo=ye();fi.exports=function(i,e){let t=String(fo(i)||"").split(/\r?\n/);return e?t.map(s=>Math.ceil(s.length/e)).reduce((s,r)=>s+r):t.length}});var mi=u((gu,gi)=>{"use strict";gi.exports=(i,e={})=>{let t=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",s=e.width;return(i||"").split(/\r?\n/g).map(r=>r.split(/\s+/g).reduce((o,n)=>(n.length+t.length>=s||o[o.length-1].length+n.length+1<s?o[o.length-1]+=` ${n}`:o.push(`${t}${n}`),o),[t]).join(`
`)).join(`
`)}});var bi=u((mu,vi)=>{"use strict";vi.exports=(i,e,t)=>{t=t||e;let s=Math.min(e-t,i-Math.floor(t/2));s<0&&(s=0);let r=Math.min(s+t,e);return{startIndex:s,endIndex:r}}});var P=u((vu,yi)=>{"use strict";yi.exports={action:ii(),clear:ui(),style:di(),strip:ye(),figures:Ne(),lines:pi(),wrap:mi(),entriesToDisplay:bi()}});var R=u((bu,Si)=>{"use strict";var wi=require("readline"),po=P(),go=po.action,mo=require("events"),xi=v(),vo=xi.beep,bo=xi.cursor,yo=g(),He=class extends mo{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let t=wi.createInterface({input:this.in,escapeCodeTimeout:50});wi.emitKeypressEvents(this.in,t),this.in.isTTY&&this.in.setRawMode(!0);let s=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,r=(o,n)=>{let h=go(n,s);h===!1?this._&&this._(o,n):typeof this[h]=="function"?this[h](n):this.bell()};this.close=()=>{this.out.write(bo.show),this.in.removeListener("keypress",r),this.in.isTTY&&this.in.setRawMode(!1),t.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",r)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(vo)}render(){this.onRender(yo),this.firstRender&&(this.firstRender=!1)}};Si.exports=He});var Mi=u((yu,$i)=>{"use strict";function qi(i,e,t,s,r,o,n){try{var h=i[o](n),l=h.value}catch(a){t(a);return}h.done?e(l):Promise.resolve(l).then(s,r)}function Ti(i){return function(){var e=this,t=arguments;return new Promise(function(s,r){var o=i.apply(e,t);function n(l){qi(o,s,r,n,h,"next",l)}function h(l){qi(o,s,r,n,h,"throw",l)}n(void 0)})}}var we=g(),wo=R(),Oi=v(),xo=Oi.erase,oe=Oi.cursor,xe=P(),Ye=xe.style,Ve=xe.clear,So=xe.lines,qo=xe.figures,Ue=class extends wo{constructor(e={}){super(e),this.transform=Ye.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=Ve("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=we.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return Ti(function*(){let t=yield e.validator(e.value);typeof t=="string"&&(e.errorMsg=t,t=!1),e.error=!t})()}submit(){var e=this;return Ti(function*(){if(e.value=e.value||e.initial,e.cursorOffset=0,e.cursor=e.rendered.length,yield e.validate(),e.error){e.red=!0,e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,t){let s=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor);this.value=`${s}${e}${r}`,this.red=!1,this.cursor=this.placeholder?0:s.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),t=this.value.slice(this.cursor);this.value=`${e}${t}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),t=this.value.slice(this.cursor+1);this.value=`${e}${t}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(oe.down(So(this.outputError,this.out.columns)-1)+Ve(this.outputError,this.out.columns)),this.out.write(Ve(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Ye.symbol(this.done,this.aborted),we.bold(this.msg),Ye.delimiter(this.done),this.red?we.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,t,s)=>e+`
${s?" ":qo.pointerSmall} ${we.red().italic(t)}`,"")),this.out.write(xo.line+oe.to(0)+this.outputText+oe.save+this.outputError+oe.restore+oe.move(this.cursorOffset,0)))}};$i.exports=Ue});var Ii=u((wu,Ci)=>{"use strict";var F=g(),To=R(),he=P(),_i=he.style,Pi=he.clear,Se=he.figures,Oo=he.wrap,$o=he.entriesToDisplay,Mo=v(),_o=Mo.cursor,Je=class extends To{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((t,s)=>(typeof t=="string"&&(t={title:t,value:s}),{title:t&&(t.title||t.value||t),value:t&&(t.value===void 0?s:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=Pi("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,t){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(_o.hide):this.out.write(Pi(this.outputText,this.out.columns)),super.render();let e=$o(this.cursor,this.choices.length,this.optionsPerPage),t=e.startIndex,s=e.endIndex;if(this.outputText=[_i.symbol(this.done,this.aborted),F.bold(this.msg),_i.delimiter(!1),this.done?this.selection.title:this.selection.disabled?F.yellow(this.warn):F.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let r=t;r<s;r++){let o,n,h="",l=this.choices[r];r===t&&t>0?n=Se.arrowUp:r===s-1&&s<this.choices.length?n=Se.arrowDown:n=" ",l.disabled?(o=this.cursor===r?F.gray().underline(l.title):F.strikethrough().gray(l.title),n=(this.cursor===r?F.bold().gray(Se.pointer)+" ":"  ")+n):(o=this.cursor===r?F.cyan().underline(l.title):l.title,n=(this.cursor===r?F.cyan(Se.pointer)+" ":"  ")+n,l.description&&this.cursor===r&&(h=` - ${l.description}`,(n.length+o.length+h.length>=this.out.columns||l.description.split(/\r?\n/).length>1)&&(h=`
`+Oo(l.description,{margin:3,width:this.out.columns})))),this.outputText+=`${n} ${o}${F.gray(h)}
`}}this.out.write(this.outputText)}};Ci.exports=Je});var Ri=u((xu,Ai)=>{"use strict";var qe=g(),Po=R(),ki=P(),Di=ki.style,Co=ki.clear,Ei=v(),ji=Ei.cursor,Io=Ei.erase,Ge=class extends Po{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,t){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(ji.hide):this.out.write(Co(this.outputText,this.out.columns)),super.render(),this.outputText=[Di.symbol(this.done,this.aborted),qe.bold(this.msg),Di.delimiter(this.done),this.value?this.inactive:qe.cyan().underline(this.inactive),qe.gray("/"),this.value?qe.cyan().underline(this.active):this.active].join(" "),this.out.write(Io.line+ji.to(0)+this.outputText))}};Ai.exports=Ge});var I=u((Su,Fi)=>{"use strict";var ze=class i{constructor({token:e,date:t,parts:s,locales:r}){this.token=e,this.date=t||new Date,this.parts=s||[this],this.locales=r||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((t,s)=>s>e&&t instanceof i)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),t=e.indexOf(this);return e.find((s,r)=>r>t&&s instanceof i)}toString(){return String(this.date)}};Fi.exports=ze});var Li=u((qu,Ni)=>{"use strict";var Do=I(),Be=class extends Do{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};Ni.exports=Be});var Yi=u((Tu,Hi)=>{"use strict";var jo=I(),ko=i=>(i=i%10,i===1?"st":i===2?"nd":i===3?"rd":"th"),Ze=class extends jo{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),t=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+ko(e):this.token==="d"?t+1:this.token==="ddd"?this.locales.weekdaysShort[t]:this.token==="dddd"?this.locales.weekdays[t]:e}};Hi.exports=Ze});var Ui=u((Ou,Vi)=>{"use strict";var Eo=I(),We=class extends Eo{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};Vi.exports=We});var Gi=u(($u,Ji)=>{"use strict";var Ao=I(),Ke=class extends Ao{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};Ji.exports=Ke});var Bi=u((Mu,zi)=>{"use strict";var Ro=I(),Xe=class extends Ro{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};zi.exports=Xe});var Wi=u((_u,Zi)=>{"use strict";var Fo=I(),Qe=class extends Fo{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),t=this.token.length;return t===2?String(e+1).padStart(2,"0"):t===3?this.locales.monthsShort[e]:t===4?this.locales.months[e]:String(e+1)}};Zi.exports=Qe});var Xi=u((Pu,Ki)=>{"use strict";var No=I(),et=class extends No{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};Ki.exports=et});var es=u((Cu,Qi)=>{"use strict";var Lo=I(),tt=class extends Lo{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};Qi.exports=tt});var is=u((Iu,ts)=>{"use strict";ts.exports={DatePart:I(),Meridiem:Li(),Day:Yi(),Hours:Ui(),Milliseconds:Gi(),Minutes:Bi(),Month:Wi(),Seconds:Xi(),Year:es()}});var ds=u((Du,cs)=>{"use strict";function ss(i,e,t,s,r,o,n){try{var h=i[o](n),l=h.value}catch(a){t(a);return}h.done?e(l):Promise.resolve(l).then(s,r)}function rs(i){return function(){var e=this,t=arguments;return new Promise(function(s,r){var o=i.apply(e,t);function n(l){ss(o,s,r,n,h,"next",l)}function h(l){ss(o,s,r,n,h,"throw",l)}n(void 0)})}}var it=g(),Ho=R(),rt=P(),ns=rt.style,os=rt.clear,Yo=rt.figures,as=v(),Vo=as.erase,hs=as.cursor,N=is(),ls=N.DatePart,Uo=N.Meridiem,Jo=N.Day,Go=N.Hours,zo=N.Milliseconds,Bo=N.Minutes,Zo=N.Month,Wo=N.Seconds,Ko=N.Year,Xo=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,us={1:({token:i})=>i.replace(/\\(.)/g,"$1"),2:i=>new Jo(i),3:i=>new Zo(i),4:i=>new Ko(i),5:i=>new Uo(i),6:i=>new Go(i),7:i=>new Bo(i),8:i=>new Wo(i),9:i=>new zo(i)},Qo={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},st=class extends Ho{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(Qo,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=os("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let t;for(this.parts=[];t=Xo.exec(e);){let r=t.shift(),o=t.findIndex(n=>n!=null);this.parts.push(o in us?us[o]({token:t[o]||r,date:this.date,parts:this.parts,locales:this.locales}):t[o]||r)}let s=this.parts.reduce((r,o)=>(typeof o=="string"&&typeof r[r.length-1]=="string"?r[r.length-1]+=o:r.push(o),r),[]);this.parts.splice(0),this.parts.push(...s),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof ls)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return rs(function*(){let t=yield e.validator(e.value);typeof t=="string"&&(e.errorMsg=t,t=!1),e.error=!t})()}submit(){var e=this;return rs(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(t=>t instanceof ls)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(hs.hide):this.out.write(os(this.outputText,this.out.columns)),super.render(),this.outputText=[ns.symbol(this.done,this.aborted),it.bold(this.msg),ns.delimiter(!1),this.parts.reduce((e,t,s)=>e.concat(s===this.cursor&&!this.done?it.cyan().underline(t.toString()):t),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,t,s)=>e+`
${s?" ":Yo.pointerSmall} ${it.red().italic(t)}`,"")),this.out.write(Vo.line+hs.to(0)+this.outputText))}};cs.exports=st});var ys=u((ju,bs)=>{"use strict";function fs(i,e,t,s,r,o,n){try{var h=i[o](n),l=h.value}catch(a){t(a);return}h.done?e(l):Promise.resolve(l).then(s,r)}function ps(i){return function(){var e=this,t=arguments;return new Promise(function(s,r){var o=i.apply(e,t);function n(l){fs(o,s,r,n,h,"next",l)}function h(l){fs(o,s,r,n,h,"throw",l)}n(void 0)})}}var Te=g(),eh=R(),vs=v(),Oe=vs.cursor,th=vs.erase,$e=P(),nt=$e.style,ih=$e.figures,gs=$e.clear,sh=$e.lines,rh=/[0-9]/,ot=i=>i!==void 0,ms=(i,e)=>{let t=Math.pow(10,e);return Math.round(i*t)/t},ht=class extends eh{constructor(e={}){super(e),this.transform=nt.render(e.style),this.msg=e.message,this.initial=ot(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=ot(e.min)?e.min:-1/0,this.max=ot(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=Te.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${ms(e,this.round)}`),this._value=ms(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||rh.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return ps(function*(){let t=yield e.validator(e.value);typeof t=="string"&&(e.errorMsg=t,t=!1),e.error=!t})()}submit(){var e=this;return ps(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}let t=e.value;e.value=t!==""?t:e.initial,e.done=!0,e.aborted=!1,e.error=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,t){if(!this.valid(e))return this.bell();let s=Date.now();if(s-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=s,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Oe.down(sh(this.outputError,this.out.columns)-1)+gs(this.outputError,this.out.columns)),this.out.write(gs(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[nt.symbol(this.done,this.aborted),Te.bold(this.msg),nt.delimiter(this.done),!this.done||!this.done&&!this.placeholder?Te[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,t,s)=>e+`
${s?" ":ih.pointerSmall} ${Te.red().italic(t)}`,"")),this.out.write(th.line+Oe.to(0)+this.outputText+Oe.save+this.outputError+Oe.restore))}};bs.exports=ht});var ut=u((ku,Ss)=>{"use strict";var D=g(),nh=v(),oh=nh.cursor,hh=R(),le=P(),ws=le.clear,J=le.figures,xs=le.style,lh=le.wrap,uh=le.entriesToDisplay,lt=class extends hh{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((t,s)=>(typeof t=="string"&&(t={title:t,value:s}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(t.value===void 0?s:t.value),selected:t&&t.selected,disabled:t&&t.disabled})),this.clear=ws("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(t=>t.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(t=>!t.disabled).forEach(t=>t.selected=e),this.render()}_(e,t){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${J.arrowUp}/${J.arrowDown}: Highlight option
    ${J.arrowLeft}/${J.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,t,s,r){let o=(t.selected?D.green(J.radioOn):J.radioOff)+" "+r+" ",n,h;return t.disabled?n=e===s?D.gray().underline(t.title):D.strikethrough().gray(t.title):(n=e===s?D.cyan().underline(t.title):t.title,e===s&&t.description&&(h=` - ${t.description}`,(o.length+n.length+h.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(h=`
`+lh(t.description,{margin:o.length,width:this.out.columns})))),o+n+D.gray(h||"")}paginateOptions(e){if(e.length===0)return D.red("No matches for this query.");let t=uh(this.cursor,e.length,this.optionsPerPage),s=t.startIndex,r=t.endIndex,o,n=[];for(let h=s;h<r;h++)h===s&&s>0?o=J.arrowUp:h===r-1&&r<e.length?o=J.arrowDown:o=" ",n.push(this.renderOption(this.cursor,e[h],h,o));return`
`+n.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(t=>t.selected).map(t=>t.title).join(", ");let e=[D.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(D.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(oh.hide),super.render();let e=[xs.symbol(this.done,this.aborted),D.bold(this.msg),xs.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=D.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=ws(e,this.out.columns)}};Ss.exports=lt});var Ps=u((Eu,_s)=>{"use strict";function qs(i,e,t,s,r,o,n){try{var h=i[o](n),l=h.value}catch(a){t(a);return}h.done?e(l):Promise.resolve(l).then(s,r)}function ah(i){return function(){var e=this,t=arguments;return new Promise(function(s,r){var o=i.apply(e,t);function n(l){qs(o,s,r,n,h,"next",l)}function h(l){qs(o,s,r,n,h,"throw",l)}n(void 0)})}}var ue=g(),ch=R(),Ms=v(),dh=Ms.erase,Ts=Ms.cursor,ae=P(),at=ae.style,Os=ae.clear,ct=ae.figures,fh=ae.wrap,ph=ae.entriesToDisplay,$s=(i,e)=>i[e]&&(i[e].value||i[e].title||i[e]),gh=(i,e)=>i[e]&&(i[e].title||i[e].value||i[e]),mh=(i,e)=>{let t=i.findIndex(s=>s.value===e||s.title===e);return t>-1?t:void 0},dt=class extends ch{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:mh(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=at.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=Os("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=$s(this.suggestions,e):this.value=this.fallback.value,this.fire()}complete(e){var t=this;return ah(function*(){let s=t.completing=t.suggest(t.input,t.choices),r=yield s;if(t.completing!==s)return;t.suggestions=r.map((n,h,l)=>({title:gh(l,h),value:$s(l,h),description:n.description})),t.completing=!1;let o=Math.max(r.length-1,0);t.moveSelect(Math.min(o,t.select)),e&&e()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,t){let s=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor);this.input=`${s}${e}${r}`,this.cursor=s.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),t=this.input.slice(this.cursor);this.input=`${e}${t}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),t=this.input.slice(this.cursor+1);this.input=`${e}${t}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,t,s,r){let o,n=s?ct.arrowUp:r?ct.arrowDown:" ",h=t?ue.cyan().underline(e.title):e.title;return n=(t?ue.cyan(ct.pointer)+" ":"  ")+n,e.description&&(o=` - ${e.description}`,(n.length+h.length+o.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(o=`
`+fh(e.description,{margin:3,width:this.out.columns}))),n+" "+h+ue.gray(o||"")}render(){if(this.closed)return;this.firstRender?this.out.write(Ts.hide):this.out.write(Os(this.outputText,this.out.columns)),super.render();let e=ph(this.select,this.choices.length,this.limit),t=e.startIndex,s=e.endIndex;if(this.outputText=[at.symbol(this.done,this.aborted,this.exited),ue.bold(this.msg),at.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let r=this.suggestions.slice(t,s).map((o,n)=>this.renderOption(o,this.select===n+t,n===0&&t>0,n+t===s-1&&s<this.choices.length)).join(`
`);this.outputText+=`
`+(r||ue.gray(this.fallback.title))}this.out.write(dh.line+Ts.to(0)+this.outputText)}};_s.exports=dt});var js=u((Au,Ds)=>{"use strict";var L=g(),vh=v(),bh=vh.cursor,yh=ut(),pt=P(),Cs=pt.clear,Is=pt.style,Q=pt.figures,ft=class extends yh{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=Cs("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(s=>this.inputValue?!!(typeof s.title=="string"&&s.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof s.value=="string"&&s.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let t=this.filteredOptions.findIndex(s=>s===e);this.cursor=t<0?0:t,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,t){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${Q.arrowUp}/${Q.arrowDown}: Highlight option
    ${Q.arrowLeft}/${Q.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:L.gray("Enter something to filter")}
`}renderOption(e,t,s){let r;return t.disabled?r=e===s?L.gray().underline(t.title):L.strikethrough().gray(t.title):r=e===s?L.cyan().underline(t.title):t.title,(t.selected?L.green(Q.radioOn):Q.radioOff)+"  "+r}renderDoneOrInstructions(){if(this.done)return this.value.filter(t=>t.selected).map(t=>t.title).join(", ");let e=[L.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(L.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(bh.hide),super.render();let e=[Is.symbol(this.done,this.aborted),L.bold(this.msg),Is.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=L.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=Cs(e,this.out.columns)}};Ds.exports=ft});var Ls=u((Ru,Ns)=>{"use strict";var ks=g(),wh=R(),Rs=P(),Es=Rs.style,xh=Rs.clear,Fs=v(),Sh=Fs.erase,As=Fs.cursor,gt=class extends wh{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,t){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(As.hide):this.out.write(xh(this.outputText,this.out.columns)),super.render(),this.outputText=[Es.symbol(this.done,this.aborted),ks.bold(this.msg),Es.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:ks.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(Sh.line+As.to(0)+this.outputText))}};Ns.exports=gt});var Ys=u((Fu,Hs)=>{"use strict";Hs.exports={TextPrompt:Mi(),SelectPrompt:Ii(),TogglePrompt:Ri(),DatePrompt:ds(),NumberPrompt:ys(),MultiselectPrompt:ut(),AutocompletePrompt:Ps(),AutocompleteMultiselectPrompt:js(),ConfirmPrompt:Ls()}});var Us=u(Vs=>{"use strict";var $=Vs,qh=Ys(),Me=i=>i;function j(i,e,t={}){return new Promise((s,r)=>{let o=new qh[i](e),n=t.onAbort||Me,h=t.onSubmit||Me,l=t.onExit||Me;o.on("state",e.onState||Me),o.on("submit",a=>s(h(a))),o.on("exit",a=>s(l(a))),o.on("abort",a=>r(n(a)))})}$.text=i=>j("TextPrompt",i);$.password=i=>(i.style="password",$.text(i));$.invisible=i=>(i.style="invisible",$.text(i));$.number=i=>j("NumberPrompt",i);$.date=i=>j("DatePrompt",i);$.confirm=i=>j("ConfirmPrompt",i);$.list=i=>{let e=i.separator||",";return j("TextPrompt",i,{onSubmit:t=>t.split(e).map(s=>s.trim())})};$.toggle=i=>j("TogglePrompt",i);$.select=i=>j("SelectPrompt",i);$.multiselect=i=>{i.choices=[].concat(i.choices||[]);let e=t=>t.filter(s=>s.selected).map(s=>s.value);return j("MultiselectPrompt",i,{onAbort:e,onSubmit:e})};$.autocompleteMultiselect=i=>{i.choices=[].concat(i.choices||[]);let e=t=>t.filter(s=>s.selected).map(s=>s.value);return j("AutocompleteMultiselectPrompt",i,{onAbort:e,onSubmit:e})};var Th=(i,e)=>Promise.resolve(e.filter(t=>t.title.slice(0,i.length).toLowerCase()===i.toLowerCase()));$.autocomplete=i=>(i.suggest=i.suggest||Th,i.choices=[].concat(i.choices||[]),j("AutocompletePrompt",i))});var Xs=u((Lu,Ks)=>{"use strict";function Js(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,s)}return t}function Gs(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Js(Object(t),!0).forEach(function(s){Oh(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Js(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function Oh(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function $h(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=Mh(i))||e&&i&&typeof i.length=="number"){t&&(i=t);var s=0,r=function(){};return{s:r,n:function(){return s>=i.length?{done:!0}:{done:!1,value:i[s++]}},e:function(a){throw a},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,n=!1,h;return{s:function(){t=t.call(i)},n:function(){var a=t.next();return o=a.done,a},e:function(a){n=!0,h=a},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(n)throw h}}}}function Mh(i,e){if(i){if(typeof i=="string")return zs(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return zs(i,e)}}function zs(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=i[t];return s}function Bs(i,e,t,s,r,o,n){try{var h=i[o](n),l=h.value}catch(a){t(a);return}h.done?e(l):Promise.resolve(l).then(s,r)}function Zs(i){return function(){var e=this,t=arguments;return new Promise(function(s,r){var o=i.apply(e,t);function n(l){Bs(o,s,r,n,h,"next",l)}function h(l){Bs(o,s,r,n,h,"throw",l)}n(void 0)})}}var mt=Us(),_h=["suggest","format","onState","validate","onRender","type"],Ws=()=>{};function G(){return vt.apply(this,arguments)}function vt(){return vt=Zs(function*(i=[],{onSubmit:e=Ws,onCancel:t=Ws}={}){let s={},r=G._override||{};i=[].concat(i);let o,n,h,l,a,q,_=function(){var c=Zs(function*(T,O,Kt=!1){if(!(!Kt&&T.validate&&T.validate(O)!==!0))return T.format?yield T.format(O,s):O});return function(O,Kt){return c.apply(this,arguments)}}();var w=$h(i),y;try{for(w.s();!(y=w.n()).done;){n=y.value;var K=n;if(l=K.name,a=K.type,typeof a=="function"&&(a=yield a(o,Gs({},s),n),n.type=a),!!a){for(let c in n){if(_h.includes(c))continue;let T=n[c];n[c]=typeof T=="function"?yield T(o,Gs({},s),q):T}if(q=n,typeof n.message!="string")throw new Error("prompt message is required");var me=n;if(l=me.name,a=me.type,mt[a]===void 0)throw new Error(`prompt type (${a}) is not defined`);if(r[n.name]!==void 0&&(o=yield _(n,r[n.name]),o!==void 0)){s[l]=o;continue}try{o=G._injected?Ph(G._injected,n.initial):yield mt[a](n),s[l]=o=yield _(n,o,!0),h=yield e(n,o,s)}catch{h=!(yield t(n,s))}if(h)return s}}}catch(c){w.e(c)}finally{w.f()}return s}),vt.apply(this,arguments)}function Ph(i,e){let t=i.shift();if(t instanceof Error)throw t;return t===void 0?e:t}function Ch(i){G._injected=(G._injected||[]).concat(i)}function Ih(i){G._override=Object.assign({},i)}Ks.exports=Object.assign(G,{prompt:G,prompts:mt,inject:Ch,override:Ih})});var er=u((Hu,Qs)=>{"use strict";Qs.exports=(i,e)=>{if(!(i.meta&&i.name!=="escape")){if(i.ctrl){if(i.name==="a")return"first";if(i.name==="c"||i.name==="d")return"abort";if(i.name==="e")return"last";if(i.name==="g")return"reset"}if(e){if(i.name==="j")return"down";if(i.name==="k")return"up"}return i.name==="return"||i.name==="enter"?"submit":i.name==="backspace"?"delete":i.name==="delete"?"deleteForward":i.name==="abort"?"abort":i.name==="escape"?"exit":i.name==="tab"?"next":i.name==="pagedown"?"nextPage":i.name==="pageup"?"prevPage":i.name==="home"?"home":i.name==="end"?"end":i.name==="up"?"up":i.name==="down"?"down":i.name==="right"?"right":i.name==="left"?"left":!1}}});var _e=u((Yu,tr)=>{"use strict";tr.exports=i=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),t=new RegExp(e,"g");return typeof i=="string"?i.replace(t,""):i}});var rr=u((Vu,sr)=>{"use strict";var Dh=_e(),{erase:ir,cursor:jh}=v(),kh=i=>[...Dh(i)].length;sr.exports=function(i,e){if(!e)return ir.line+jh.to(0);let t=0,s=i.split(/\r?\n/);for(let r of s)t+=1+Math.floor(Math.max(kh(r)-1,0)/e);return ir.lines(t)}});var bt=u((Uu,nr)=>{"use strict";var ce={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},Eh={arrowUp:ce.arrowUp,arrowDown:ce.arrowDown,arrowLeft:ce.arrowLeft,arrowRight:ce.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},Ah=process.platform==="win32"?Eh:ce;nr.exports=Ah});var hr=u((Ju,or)=>{"use strict";var ee=g(),W=bt(),yt=Object.freeze({password:{scale:1,render:i=>"*".repeat(i.length)},emoji:{scale:2,render:i=>"\u{1F603}".repeat(i.length)},invisible:{scale:0,render:i=>""},default:{scale:1,render:i=>`${i}`}}),Rh=i=>yt[i]||yt.default,de=Object.freeze({aborted:ee.red(W.cross),done:ee.green(W.tick),exited:ee.yellow(W.cross),default:ee.cyan("?")}),Fh=(i,e,t)=>e?de.aborted:t?de.exited:i?de.done:de.default,Nh=i=>ee.gray(i?W.ellipsis:W.pointerSmall),Lh=(i,e)=>ee.gray(i?e?W.pointerSmall:"+":W.line);or.exports={styles:yt,render:Rh,symbols:de,symbol:Fh,delimiter:Nh,item:Lh}});var ur=u((Gu,lr)=>{"use strict";var Hh=_e();lr.exports=function(i,e){let t=String(Hh(i)||"").split(/\r?\n/);return e?t.map(s=>Math.ceil(s.length/e)).reduce((s,r)=>s+r):t.length}});var cr=u((zu,ar)=>{"use strict";ar.exports=(i,e={})=>{let t=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",s=e.width;return(i||"").split(/\r?\n/g).map(r=>r.split(/\s+/g).reduce((o,n)=>(n.length+t.length>=s||o[o.length-1].length+n.length+1<s?o[o.length-1]+=` ${n}`:o.push(`${t}${n}`),o),[t]).join(`
`)).join(`
`)}});var fr=u((Bu,dr)=>{"use strict";dr.exports=(i,e,t)=>{t=t||e;let s=Math.min(e-t,i-Math.floor(t/2));s<0&&(s=0);let r=Math.min(s+t,e);return{startIndex:s,endIndex:r}}});var C=u((Zu,pr)=>{"use strict";pr.exports={action:er(),clear:rr(),style:hr(),strip:_e(),figures:bt(),lines:ur(),wrap:cr(),entriesToDisplay:fr()}});var H=u((Wu,mr)=>{"use strict";var gr=require("readline"),{action:Yh}=C(),Vh=require("events"),{beep:Uh,cursor:Jh}=v(),Gh=g(),wt=class extends Vh{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let t=gr.createInterface({input:this.in,escapeCodeTimeout:50});gr.emitKeypressEvents(this.in,t),this.in.isTTY&&this.in.setRawMode(!0);let s=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,r=(o,n)=>{let h=Yh(n,s);h===!1?this._&&this._(o,n):typeof this[h]=="function"?this[h](n):this.bell()};this.close=()=>{this.out.write(Jh.show),this.in.removeListener("keypress",r),this.in.isTTY&&this.in.setRawMode(!1),t.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",r)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(Uh)}render(){this.onRender(Gh),this.firstRender&&(this.firstRender=!1)}};mr.exports=wt});var br=u((Ku,vr)=>{"use strict";var Pe=g(),zh=H(),{erase:Bh,cursor:fe}=v(),{style:xt,clear:St,lines:Zh,figures:Wh}=C(),qt=class extends zh{constructor(e={}){super(e),this.transform=xt.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=St("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=Pe.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,t){let s=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor);this.value=`${s}${e}${r}`,this.red=!1,this.cursor=this.placeholder?0:s.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),t=this.value.slice(this.cursor);this.value=`${e}${t}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),t=this.value.slice(this.cursor+1);this.value=`${e}${t}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(fe.down(Zh(this.outputError,this.out.columns)-1)+St(this.outputError,this.out.columns)),this.out.write(St(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[xt.symbol(this.done,this.aborted),Pe.bold(this.msg),xt.delimiter(this.done),this.red?Pe.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,t,s)=>e+`
${s?" ":Wh.pointerSmall} ${Pe.red().italic(t)}`,"")),this.out.write(Bh.line+fe.to(0)+this.outputText+fe.save+this.outputError+fe.restore+fe.move(this.cursorOffset,0)))}};vr.exports=qt});var Sr=u((Xu,xr)=>{"use strict";var Y=g(),Kh=H(),{style:yr,clear:wr,figures:Ce,wrap:Xh,entriesToDisplay:Qh}=C(),{cursor:el}=v(),Tt=class extends Kh{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((t,s)=>(typeof t=="string"&&(t={title:t,value:s}),{title:t&&(t.title||t.value||t),value:t&&(t.value===void 0?s:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=wr("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,t){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(el.hide):this.out.write(wr(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:t}=Qh(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[yr.symbol(this.done,this.aborted),Y.bold(this.msg),yr.delimiter(!1),this.done?this.selection.title:this.selection.disabled?Y.yellow(this.warn):Y.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let s=e;s<t;s++){let r,o,n="",h=this.choices[s];s===e&&e>0?o=Ce.arrowUp:s===t-1&&t<this.choices.length?o=Ce.arrowDown:o=" ",h.disabled?(r=this.cursor===s?Y.gray().underline(h.title):Y.strikethrough().gray(h.title),o=(this.cursor===s?Y.bold().gray(Ce.pointer)+" ":"  ")+o):(r=this.cursor===s?Y.cyan().underline(h.title):h.title,o=(this.cursor===s?Y.cyan(Ce.pointer)+" ":"  ")+o,h.description&&this.cursor===s&&(n=` - ${h.description}`,(o.length+r.length+n.length>=this.out.columns||h.description.split(/\r?\n/).length>1)&&(n=`
`+Xh(h.description,{margin:3,width:this.out.columns})))),this.outputText+=`${o} ${r}${Y.gray(n)}
`}}this.out.write(this.outputText)}};xr.exports=Tt});var $r=u((Qu,Or)=>{"use strict";var Ie=g(),tl=H(),{style:qr,clear:il}=C(),{cursor:Tr,erase:sl}=v(),Ot=class extends tl{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,t){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(Tr.hide):this.out.write(il(this.outputText,this.out.columns)),super.render(),this.outputText=[qr.symbol(this.done,this.aborted),Ie.bold(this.msg),qr.delimiter(this.done),this.value?this.inactive:Ie.cyan().underline(this.inactive),Ie.gray("/"),this.value?Ie.cyan().underline(this.active):this.active].join(" "),this.out.write(sl.line+Tr.to(0)+this.outputText))}};Or.exports=Ot});var k=u((ea,Mr)=>{"use strict";var $t=class i{constructor({token:e,date:t,parts:s,locales:r}){this.token=e,this.date=t||new Date,this.parts=s||[this],this.locales=r||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((t,s)=>s>e&&t instanceof i)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),t=e.indexOf(this);return e.find((s,r)=>r>t&&s instanceof i)}toString(){return String(this.date)}};Mr.exports=$t});var Pr=u((ta,_r)=>{"use strict";var rl=k(),Mt=class extends rl{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};_r.exports=Mt});var Ir=u((ia,Cr)=>{"use strict";var nl=k(),ol=i=>(i=i%10,i===1?"st":i===2?"nd":i===3?"rd":"th"),_t=class extends nl{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),t=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+ol(e):this.token==="d"?t+1:this.token==="ddd"?this.locales.weekdaysShort[t]:this.token==="dddd"?this.locales.weekdays[t]:e}};Cr.exports=_t});var jr=u((sa,Dr)=>{"use strict";var hl=k(),Pt=class extends hl{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};Dr.exports=Pt});var Er=u((ra,kr)=>{"use strict";var ll=k(),Ct=class extends ll{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};kr.exports=Ct});var Rr=u((na,Ar)=>{"use strict";var ul=k(),It=class extends ul{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};Ar.exports=It});var Nr=u((oa,Fr)=>{"use strict";var al=k(),Dt=class extends al{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),t=this.token.length;return t===2?String(e+1).padStart(2,"0"):t===3?this.locales.monthsShort[e]:t===4?this.locales.months[e]:String(e+1)}};Fr.exports=Dt});var Hr=u((ha,Lr)=>{"use strict";var cl=k(),jt=class extends cl{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};Lr.exports=jt});var Vr=u((la,Yr)=>{"use strict";var dl=k(),kt=class extends dl{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};Yr.exports=kt});var Jr=u((ua,Ur)=>{"use strict";Ur.exports={DatePart:k(),Meridiem:Pr(),Day:Ir(),Hours:jr(),Milliseconds:Er(),Minutes:Rr(),Month:Nr(),Seconds:Hr(),Year:Vr()}});var Xr=u((aa,Kr)=>{"use strict";var Et=g(),fl=H(),{style:Gr,clear:zr,figures:pl}=C(),{erase:gl,cursor:Br}=v(),{DatePart:Zr,Meridiem:ml,Day:vl,Hours:bl,Milliseconds:yl,Minutes:wl,Month:xl,Seconds:Sl,Year:ql}=Jr(),Tl=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,Wr={1:({token:i})=>i.replace(/\\(.)/g,"$1"),2:i=>new vl(i),3:i=>new xl(i),4:i=>new ql(i),5:i=>new ml(i),6:i=>new bl(i),7:i=>new wl(i),8:i=>new Sl(i),9:i=>new yl(i)},Ol={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},At=class extends fl{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(Ol,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=zr("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let t;for(this.parts=[];t=Tl.exec(e);){let r=t.shift(),o=t.findIndex(n=>n!=null);this.parts.push(o in Wr?Wr[o]({token:t[o]||r,date:this.date,parts:this.parts,locales:this.locales}):t[o]||r)}let s=this.parts.reduce((r,o)=>(typeof o=="string"&&typeof r[r.length-1]=="string"?r[r.length-1]+=o:r.push(o),r),[]);this.parts.splice(0),this.parts.push(...s),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof Zr)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(t=>t instanceof Zr)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(Br.hide):this.out.write(zr(this.outputText,this.out.columns)),super.render(),this.outputText=[Gr.symbol(this.done,this.aborted),Et.bold(this.msg),Gr.delimiter(!1),this.parts.reduce((e,t,s)=>e.concat(s===this.cursor&&!this.done?Et.cyan().underline(t.toString()):t),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,t,s)=>e+`
${s?" ":pl.pointerSmall} ${Et.red().italic(t)}`,"")),this.out.write(gl.line+Br.to(0)+this.outputText))}};Kr.exports=At});var sn=u((ca,tn)=>{"use strict";var De=g(),$l=H(),{cursor:je,erase:Ml}=v(),{style:Rt,figures:_l,clear:Qr,lines:Pl}=C(),Cl=/[0-9]/,Ft=i=>i!==void 0,en=(i,e)=>{let t=Math.pow(10,e);return Math.round(i*t)/t},Nt=class extends $l{constructor(e={}){super(e),this.transform=Rt.render(e.style),this.msg=e.message,this.initial=Ft(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=Ft(e.min)?e.min:-1/0,this.max=Ft(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=De.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${en(e,this.round)}`),this._value=en(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||Cl.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let e=this.value;this.value=e!==""?e:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,t){if(!this.valid(e))return this.bell();let s=Date.now();if(s-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=s,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(je.down(Pl(this.outputError,this.out.columns)-1)+Qr(this.outputError,this.out.columns)),this.out.write(Qr(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Rt.symbol(this.done,this.aborted),De.bold(this.msg),Rt.delimiter(this.done),!this.done||!this.done&&!this.placeholder?De[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,t,s)=>e+`
${s?" ":_l.pointerSmall} ${De.red().italic(t)}`,"")),this.out.write(Ml.line+je.to(0)+this.outputText+je.save+this.outputError+je.restore))}};tn.exports=Nt});var Ht=u((da,on)=>{"use strict";var E=g(),{cursor:Il}=v(),Dl=H(),{clear:rn,figures:z,style:nn,wrap:jl,entriesToDisplay:kl}=C(),Lt=class extends Dl{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((t,s)=>(typeof t=="string"&&(t={title:t,value:s}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(t.value===void 0?s:t.value),selected:t&&t.selected,disabled:t&&t.disabled})),this.clear=rn("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(t=>t.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(t=>!t.disabled).forEach(t=>t.selected=e),this.render()}_(e,t){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${z.arrowUp}/${z.arrowDown}: Highlight option
    ${z.arrowLeft}/${z.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,t,s,r){let o=(t.selected?E.green(z.radioOn):z.radioOff)+" "+r+" ",n,h;return t.disabled?n=e===s?E.gray().underline(t.title):E.strikethrough().gray(t.title):(n=e===s?E.cyan().underline(t.title):t.title,e===s&&t.description&&(h=` - ${t.description}`,(o.length+n.length+h.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(h=`
`+jl(t.description,{margin:o.length,width:this.out.columns})))),o+n+E.gray(h||"")}paginateOptions(e){if(e.length===0)return E.red("No matches for this query.");let{startIndex:t,endIndex:s}=kl(this.cursor,e.length,this.optionsPerPage),r,o=[];for(let n=t;n<s;n++)n===t&&t>0?r=z.arrowUp:n===s-1&&s<e.length?r=z.arrowDown:r=" ",o.push(this.renderOption(this.cursor,e[n],n,r));return`
`+o.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(t=>t.selected).map(t=>t.title).join(", ");let e=[E.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(E.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Il.hide),super.render();let e=[nn.symbol(this.done,this.aborted),E.bold(this.msg),nn.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=E.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=rn(e,this.out.columns)}};on.exports=Lt});var cn=u((fa,an)=>{"use strict";var pe=g(),El=H(),{erase:Al,cursor:hn}=v(),{style:Yt,clear:ln,figures:Vt,wrap:Rl,entriesToDisplay:Fl}=C(),un=(i,e)=>i[e]&&(i[e].value||i[e].title||i[e]),Nl=(i,e)=>i[e]&&(i[e].title||i[e].value||i[e]),Ll=(i,e)=>{let t=i.findIndex(s=>s.value===e||s.title===e);return t>-1?t:void 0},Ut=class extends El{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:Ll(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=Yt.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=ln("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=un(this.suggestions,e):this.value=this.fallback.value,this.fire()}async complete(e){let t=this.completing=this.suggest(this.input,this.choices),s=await t;if(this.completing!==t)return;this.suggestions=s.map((o,n,h)=>({title:Nl(h,n),value:un(h,n),description:o.description})),this.completing=!1;let r=Math.max(s.length-1,0);this.moveSelect(Math.min(r,this.select)),e&&e()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,t){let s=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor);this.input=`${s}${e}${r}`,this.cursor=s.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),t=this.input.slice(this.cursor);this.input=`${e}${t}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),t=this.input.slice(this.cursor+1);this.input=`${e}${t}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,t,s,r){let o,n=s?Vt.arrowUp:r?Vt.arrowDown:" ",h=t?pe.cyan().underline(e.title):e.title;return n=(t?pe.cyan(Vt.pointer)+" ":"  ")+n,e.description&&(o=` - ${e.description}`,(n.length+h.length+o.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(o=`
`+Rl(e.description,{margin:3,width:this.out.columns}))),n+" "+h+pe.gray(o||"")}render(){if(this.closed)return;this.firstRender?this.out.write(hn.hide):this.out.write(ln(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:t}=Fl(this.select,this.choices.length,this.limit);if(this.outputText=[Yt.symbol(this.done,this.aborted,this.exited),pe.bold(this.msg),Yt.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let s=this.suggestions.slice(e,t).map((r,o)=>this.renderOption(r,this.select===o+e,o===0&&e>0,o+e===t-1&&t<this.choices.length)).join(`
`);this.outputText+=`
`+(s||pe.gray(this.fallback.title))}this.out.write(Al.line+hn.to(0)+this.outputText)}};an.exports=Ut});var gn=u((pa,pn)=>{"use strict";var V=g(),{cursor:Hl}=v(),Yl=Ht(),{clear:dn,style:fn,figures:te}=C(),Jt=class extends Yl{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=dn("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(s=>this.inputValue?!!(typeof s.title=="string"&&s.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof s.value=="string"&&s.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let t=this.filteredOptions.findIndex(s=>s===e);this.cursor=t<0?0:t,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,t){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${te.arrowUp}/${te.arrowDown}: Highlight option
    ${te.arrowLeft}/${te.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:V.gray("Enter something to filter")}
`}renderOption(e,t,s){let r;return t.disabled?r=e===s?V.gray().underline(t.title):V.strikethrough().gray(t.title):r=e===s?V.cyan().underline(t.title):t.title,(t.selected?V.green(te.radioOn):te.radioOff)+"  "+r}renderDoneOrInstructions(){if(this.done)return this.value.filter(t=>t.selected).map(t=>t.title).join(", ");let e=[V.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(V.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Hl.hide),super.render();let e=[fn.symbol(this.done,this.aborted),V.bold(this.msg),fn.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=V.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=dn(e,this.out.columns)}};pn.exports=Jt});var wn=u((ga,yn)=>{"use strict";var mn=g(),Vl=H(),{style:vn,clear:Ul}=C(),{erase:Jl,cursor:bn}=v(),Gt=class extends Vl{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,t){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(bn.hide):this.out.write(Ul(this.outputText,this.out.columns)),super.render(),this.outputText=[vn.symbol(this.done,this.aborted),mn.bold(this.msg),vn.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:mn.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(Jl.line+bn.to(0)+this.outputText))}};yn.exports=Gt});var Sn=u((ma,xn)=>{"use strict";xn.exports={TextPrompt:br(),SelectPrompt:Sr(),TogglePrompt:$r(),DatePrompt:Xr(),NumberPrompt:sn(),MultiselectPrompt:Ht(),AutocompletePrompt:cn(),AutocompleteMultiselectPrompt:gn(),ConfirmPrompt:wn()}});var Tn=u(qn=>{"use strict";var M=qn,Gl=Sn(),ke=i=>i;function A(i,e,t={}){return new Promise((s,r)=>{let o=new Gl[i](e),n=t.onAbort||ke,h=t.onSubmit||ke,l=t.onExit||ke;o.on("state",e.onState||ke),o.on("submit",a=>s(h(a))),o.on("exit",a=>s(l(a))),o.on("abort",a=>r(n(a)))})}M.text=i=>A("TextPrompt",i);M.password=i=>(i.style="password",M.text(i));M.invisible=i=>(i.style="invisible",M.text(i));M.number=i=>A("NumberPrompt",i);M.date=i=>A("DatePrompt",i);M.confirm=i=>A("ConfirmPrompt",i);M.list=i=>{let e=i.separator||",";return A("TextPrompt",i,{onSubmit:t=>t.split(e).map(s=>s.trim())})};M.toggle=i=>A("TogglePrompt",i);M.select=i=>A("SelectPrompt",i);M.multiselect=i=>{i.choices=[].concat(i.choices||[]);let e=t=>t.filter(s=>s.selected).map(s=>s.value);return A("MultiselectPrompt",i,{onAbort:e,onSubmit:e})};M.autocompleteMultiselect=i=>{i.choices=[].concat(i.choices||[]);let e=t=>t.filter(s=>s.selected).map(s=>s.value);return A("AutocompleteMultiselectPrompt",i,{onAbort:e,onSubmit:e})};var zl=(i,e)=>Promise.resolve(e.filter(t=>t.title.slice(0,i.length).toLowerCase()===i.toLowerCase()));M.autocomplete=i=>(i.suggest=i.suggest||zl,i.choices=[].concat(i.choices||[]),A("AutocompletePrompt",i))});var Mn=u((ba,$n)=>{"use strict";var zt=Tn(),Bl=["suggest","format","onState","validate","onRender","type"],On=()=>{};async function B(i=[],{onSubmit:e=On,onCancel:t=On}={}){let s={},r=B._override||{};i=[].concat(i);let o,n,h,l,a,q,_=async(w,y,K=!1)=>{if(!(!K&&w.validate&&w.validate(y)!==!0))return w.format?await w.format(y,s):y};for(n of i)if({name:l,type:a}=n,typeof a=="function"&&(a=await a(o,{...s},n),n.type=a),!!a){for(let w in n){if(Bl.includes(w))continue;let y=n[w];n[w]=typeof y=="function"?await y(o,{...s},q):y}if(q=n,typeof n.message!="string")throw new Error("prompt message is required");if({name:l,type:a}=n,zt[a]===void 0)throw new Error(`prompt type (${a}) is not defined`);if(r[n.name]!==void 0&&(o=await _(n,r[n.name]),o!==void 0)){s[l]=o;continue}try{o=B._injected?Zl(B._injected,n.initial):await zt[a](n),s[l]=o=await _(n,o,!0),h=await e(n,o,s)}catch{h=!await t(n,s)}if(h)return s}return s}function Zl(i,e){let t=i.shift();if(t instanceof Error)throw t;return t===void 0?e:t}function Wl(i){B._injected=(B._injected||[]).concat(i)}function Kl(i){B._override=Object.assign({},i)}$n.exports=Object.assign(B,{prompt:B,prompts:zt,inject:Wl,override:Kl})});var Pn=u((ya,_n)=>{"use strict";function Xl(i){i=(Array.isArray(i)?i:i.split(".")).map(Number);let e=0,t=process.versions.node.split(".").map(Number);for(;e<i.length;e++){if(t[e]>i[e])return!1;if(i[e]>t[e])return!0}return!1}_n.exports=Xl("8.6.0")?Xs():Mn()});var ru={};Gn(ru,{default:()=>Ln,defineCommand:()=>iu});module.exports=zn(ru);var be=U(require("path")),x={root:be.default.resolve(__dirname,"../../../../../../"),apps:be.default.resolve(__dirname,"../../../../../../apps"),templates:be.default.resolve(__dirname,"../../template/next-app")};var se=require("child_process"),p=U(require("path")),Ee=U(Pn()),S=U(require("fs"));var b=U(require("fs")),Cn=U(require("nunjucks")),Bt=U(require("path")),Zt=(i,e,t)=>{((t==null?void 0:t.createDirIfNot)??!0)&&!b.existsSync(Bt.default.resolve(e,"../"))&&b.mkdirSync(Bt.default.resolve(e,"../"),{recursive:!0}),console.log("Copying file: "+i+" to "+e);let s=t!=null&&t.contentTransform?t==null?void 0:t.contentTransform(b.readFileSync(i,"utf-8")):b.readFileSync(i,"utf-8");b.writeFileSync(e,Cn.default.renderString(s,(t==null?void 0:t.context)??{}))},Ql=(...i)=>{for(let e of i)Zt(...e)},eu=(i,e,t)=>{let s=(r,o)=>{let n=r.replace(i,"");b.existsSync(o)||b.mkdirSync(o,{recursive:!0});let h=b.readdirSync(r);for(let l of h){let a=b.lstatSync(`${r}/${l}`);if(a.isDirectory()){if(t!=null&&t.asToCopyy&&!t.asToCopyy(`${n}/${l}`,"directory",{file:l,src:`${r}/${l}`,dest:`${o}/${l}`}))continue;s(`${r}/${l}`,`${o}/${l}`)}else if(a.isSymbolicLink()){if(t!=null&&t.asToCopyy&&!t.asToCopyy(`${n}/${l}`,"file",{file:l,src:`${r}/${l}`,dest:`${o}/${l}`}))continue;let q=b.readlinkSync(`${r}/${l}`);b.symlinkSync(q,`${o}/${l}`)}else{if(t!=null&&t.asToCopyy&&!t.asToCopyy(`${n}/${l}`,"file",{file:l,src:`${r}/${l}`,dest:`${o}/${l}`}))continue;let q=`${o}/${t!=null&&t.fileNameTransform?t.fileNameTransform(l):l}`,_=t==null?void 0:t.context;Zt(`${r}/${l}`,q,{...t,context:_ instanceof Function?_(l):_})}}};return s(i,e)},ge=class{constructor(e){this.opts=e}log(...e){this.opts.logging&&console.log(...e)}copyFile=(...e)=>{this.log("Copying file: "+e[0]),Zt(...e)};copyFiles=(...e)=>{this.log("Copying files: "+e.map(t=>t[0]).join(", ")),Ql(...e)};copyDir=(...e)=>{this.log("Copying directory: "+e[0]),eu(...e)}};var En=U(require("nunjucks")),An=require("commander"),{parse:Rn,stringify:In}=require("envfile"),ie=new ge({logging:!0});function tu(i){return!!new RegExp("^https?:\\/\\/(((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|localhost)|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(i)}var Fn=(i,e)=>{let t=i;return e.some(s=>s.port===t)?Fn(`${Number(t)+1}`,e):t};function iu(i){i.name("next-app").description("Create a new next.js app with some features").addOption(new An.Option("--name <name>","The name of the project")).option("--url <url>","The url of the project").option("-f, --force","Force the creation of the project")}var Dn=(i,e,t,s)=>{let r=t(e);return r===!0?e:s?(console.warn(r||"Invalid value"),e):i.error(r||"Invalid value")},jn=i=>{if(!tu(i))return"Please enter a valid url";if(Wt.includes(i))return"The url "+i+" is already used";let e=new URL(i);return e.protocol!=="http:"&&e.protocol!=="https:"?"Please enter a valid url":Wt.some(t=>new URL(t).port===e.port)?"The port is already used":!0},su=i=>i.length===0?"Please enter a valid name":Nn.some(e=>e===i)?"The project name is already used":!0,Nn=S.readdirSync(x.apps),kn=Rn(S.readFileSync(p.default.resolve(x.root,".env.template"),"utf-8")),Ae=Rn(S.readFileSync(p.default.resolve(x.root,".env"),"utf-8")),Wt=Object.entries(Ae).filter(([i])=>i.match(/NEXT_PUBLIC_(.*)URL/)).map(i=>i[1]);async function Ln(i){let e=i.opts();console.log(e);let t={devDependencies:[],dependencies:[{name:"@repo/ui",version:"*"},{name:"@repo/bin",version:"*"},{name:"@repo/tailwind-config",version:"*"},{name:"@repo/tsconfig",version:"*"},"nextjs-toploader","zod","@tanstack/react-query","@tanstack/react-query-devtools","prompts"]},s=[],r=Dn(i,e.name??await(0,Ee.default)({type:"text",name:"dir",message:"Enter the project name",validate:c=>c.length===0?"Please enter a valid name":Nn.some(T=>T===c)?"The project name is already used":!0}).then(c=>c.dir),su,e.force),o=Dn(i,e.url??await(0,Ee.default)({type:"text",name:"url",message:"Enter the app url",initial:`http://localhost:${Fn("3000",Wt.map(c=>new URL(c)))}`,validate:jn}).then(c=>c.url),jn,e.force);console.log(`

Creating a new Next.js app with npx create-next-app@latest ${r} --skip-install --typescript --no-import-alias  --eslint --tailwind --src-dir --app

`),(0,se.spawnSync)(`npx create-next-app@latest ${r} --skip-install --typescript --no-import-alias  --eslint --tailwind --src-dir --app`,{cwd:x.apps,stdio:"inherit",shell:!0});let n=p.default.resolve(x.apps,r),h=JSON.parse(S.readFileSync(p.default.resolve(n,"package.json"),"utf-8")),l=JSON.parse(S.readFileSync(p.default.resolve(x.root,"package.json"),"utf-8")),a=`NEXT_PUBLIC_${r.toUpperCase()}_URL`,q=`NEXT_PUBLIC_${r.toUpperCase()}_PORT`;kn[a]=`\${:${a}}`,Ae[a]=o,Ae[q]=new URL(o).port;let _=c=>l.scripts[c]?_(c+"_"):c;l.scripts[_(r)]=`dotenv -e .env -- npm run --workspace=${r} --`,S.writeFileSync(p.default.resolve(x.root,".env"),In(Ae)),S.writeFileSync(p.default.resolve(x.root,".env.template"),In(kn)),S.writeFileSync(p.default.resolve(x.root,"package.json"),JSON.stringify(l,null,4)),h.scripts=JSON.parse(En.default.renderString(S.readFileSync(p.default.resolve(x.templates,"main","package.script.json.njk"),"utf-8"),{envPortName:q})),ie.copyDir(p.default.resolve(x.templates,"main"),n,{context:{appUrl:o,envName:a,envPortName:q},fileNameTransform:c=>c==="env.template.njk"?".env.template":c.replace(".njk","")});let w=JSON.parse(S.readFileSync(p.default.resolve(n,"tsconfig.json"),"utf-8"));w.compilerOptions.paths["#/*"]=["./*"],S.writeFileSync(p.default.resolve(n,"tsconfig.json"),JSON.stringify(w,null,4));let y=await(0,Ee.default)({type:"multiselect",name:"features",message:"Select the features you want to add",choices:[{title:"Directus",value:"directus",description:"install the directus sdk with all the other side package then create the library"},{title:"next-auth",value:"next-auth",description:"install next-auth"},{title:"auth-page",value:"auth-page",description:"create the page for the login and me route (use next-auth if installed)"},{title:"declarative-routing",value:"declarative-routing",description:"Declarative routing is a way to define routes in a single file and use it in the app"}]});y.features.includes("directus")&&s.push(()=>{console.log("install the directus features"),t.dependencies.push({name:"@repo/directus-sdk",version:"*"}),ie.copyDir(p.default.resolve(x.templates,"features","directus"),p.default.resolve(n),{fileNameTransform:c=>c.replace(".njk",""),context:{useNextAuth:y.features.includes("next-auth")}})}),y.features.includes("next-auth")&&s.push(()=>{console.log("install the next-auth features"),t.dependencies.push("next-auth"),t.dependencies.push("async-lock"),t.devDependencies.push("@types/async-lock"),ie.copyDir(p.default.resolve(x.templates,"features","next-auth"),p.default.resolve(n),{fileNameTransform:c=>c.replace(".njk",""),context:{useDirectus:y.features.includes("directus"),useDeclarativeRouting:y.features.includes("declarative-routing")}})}),y.features.includes("auth-page")&&s.push(()=>{console.log("install the auth-page features"),ie.copyDir(p.default.resolve(x.templates,"features","auth-page"),p.default.resolve(n),{fileNameTransform:c=>c.replace(".njk","")})}),y.features.includes("declarative-routing")&&s.push(()=>{console.log("install the declarative-routing features"),ie.copyDir(p.default.resolve(x.templates,"features","declarative-routing"),p.default.resolve(n),{fileNameTransform:c=>c.replace(".njk","")}),(0,se.spawnSync)("npx declarative-routing build",{cwd:n,stdio:"inherit",shell:!0})}),ie.copyFile(p.default.resolve(x.templates,"main","tailwind.config.ts.njk"),p.default.resolve(n,"tailwind.config.ts"));let K=async()=>{for(let c of s)await c()},me=()=>{let c=[],T=[];t.dependencies.forEach(O=>{typeof O=="string"?c.push(O):h.dependencies[O.name]=O.version}),t.devDependencies.forEach(O=>{typeof O=="string"?T.push(O):h.devDependencies[O.name]=O.version}),console.log("write the package.json file"),S.writeFileSync(p.default.resolve(n,"package.json"),JSON.stringify(h,null,4)),console.log("install the dependencies"),(0,se.spawnSync)(`npm install ${c.join(" ")}`,{cwd:n,stdio:"inherit",shell:!0}),(0,se.spawnSync)(`npm install ${T.join(" ")} --save-dev`,{cwd:n,stdio:"inherit",shell:!0})};await K(),me(),(0,se.spawnSync)("npm run init",{cwd:n,stdio:"inherit",shell:!0,env:{...process.env,[a]:o,[q]:new URL(o).port}})}0&&(module.exports={defineCommand});
